"use strict";(self.webpackChunkGestionRessources=self.webpackChunkGestionRessources||[]).push([[605],{6605:(Ui,ee,m)=>{m.r(ee),m.d(ee,{AdminModule:()=>qi});var u=m(6895),s=m(433),e=m(8256),c=m(646);let pe=(()=>{class r{constructor(t){this.elementRef=t,this.isOpen=!1}ngOnInit(){this.sidebar=this.elementRef.nativeElement.querySelector(".sidebar"),this.closeBtn=this.elementRef.nativeElement.querySelector("#btn"),this.searchBtn=this.elementRef.nativeElement.querySelector(".bx-search"),this.setupEventListeners()}toggleSidebar(){this.isOpen=!this.isOpen,this.menuBtnChange()}setupEventListeners(){this.closeBtn.nativeElement.addEventListener("click",()=>{this.toggleSidebar()}),this.searchBtn.nativeElement.addEventListener("click",()=>{this.toggleSidebar()})}menuBtnChange(){const t=this.closeBtn.nativeElement;this.isOpen?t.classList.replace("bx-menu","bx-menu-alt-right"):t.classList.replace("bx-menu-alt-right","bx-menu")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-side-bar"]],decls:30,vars:0,consts:[[1,"sidebar"],[1,"list-unstyled","components","mb-5"],["routerLink","/Home","routerLinkActive","active"],[1,"fa","fa-tachometer-alt"],["routerLink","/admin/list-personel","routerLinkActive","active"],[1,"fa","fa-users"],["routerLink","/admin/list-affectation","routerLinkActive","active"],[1,"fa","fa-list"],["routerLink","/admin/list-produit","routerLinkActive","active"],[1,"fa","fa-book"],["routerLink","/admin/list-categorie","routerLinkActive","active"],[1,"fa","fa-certificate"],["routerLink","/admin/list-stock","routerLinkActive","active"],[1,"fa","fa-clipboard"],["routerLink","/admin/list-vente","routerLinkActive","active"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"ul",1)(2,"li")(3,"a",2),e._UZ(4,"i",3),e._uU(5," Tableau de bord "),e.qZA()(),e.TgZ(6,"li")(7,"a",4),e._UZ(8,"i",5),e._uU(9," clients "),e.qZA()(),e.TgZ(10,"li")(11,"a",6),e._UZ(12,"i",7),e._uU(13," Gestion vente "),e.qZA()(),e.TgZ(14,"li")(15,"a",8),e._UZ(16,"i",9),e._uU(17," Produits "),e.qZA()(),e.TgZ(18,"li")(19,"a",10),e._UZ(20,"i",11),e._uU(21," Categories "),e.qZA()(),e.TgZ(22,"li")(23,"a",12),e._UZ(24,"i",13),e._uU(25," Gestion de stock "),e.qZA()(),e.TgZ(26,"li")(27,"a",14),e._UZ(28,"i",5),e._uU(29," Gestion ventes "),e.qZA()()()())},dependencies:[c.yS,c.Od]}),r})(),me=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-dashboard"]],decls:5,vars:0,consts:[[1,"row","container-fluid"],[1,"col-md-2"],[1,"col-10","md-10","my-3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-side-bar"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()())},dependencies:[c.lC,pe],styles:[".content[_ngcontent-%COMP%]{margin-left:180px;padding:20px}"]}),r})();var O=m(6444),F=m(5646);const _e=function(){return["../list-categorie"]};let fe=(()=>{class r{constructor(t,n){this.categorieService=t,this.router=n,this.categorieDto=new O.G}ngOnInit(){}saveCategorie(){this.categorieService.addCategorie(this.categorieDto).subscribe(t=>{console.log(t),this.goTocategorieList()},t=>console.log(t))}goTocategorieList(){this.router.navigate(["admin/list-categorie"])}onSubmit(){console.log(this.categorieDto),this.saveCategorie()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(F.a),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-categorie"]],decls:24,vars:5,consts:[[1,"card","col-md-4","offset-md-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","id","nomcategorie","name","nomcategorie",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","code","name","code",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","designation","name","designation",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-success"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3," Ajouter une categorie "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.TgZ(10,"label"),e._uU(11," Nom"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(a){return n.categorieDto.nomcategorie=a}),e.qZA()(),e.TgZ(13,"div",6)(14,"label"),e._uU(15,"Code"),e.qZA(),e.TgZ(16,"input",9),e.NdJ("ngModelChange",function(a){return n.categorieDto.code=a}),e.qZA()(),e.TgZ(17,"div",6)(18,"label"),e._uU(19," Designation"),e.qZA(),e.TgZ(20,"input",10),e.NdJ("ngModelChange",function(a){return n.categorieDto.designation=a}),e.qZA()(),e.TgZ(21,"div",11)(22,"button",12),e._uU(23,"Sauvegarder"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(4,_e)),e.xp6(8),e.Q6J("ngModel",n.categorieDto.nomcategorie),e.xp6(4),e.Q6J("ngModel",n.categorieDto.code),e.xp6(4),e.Q6J("ngModel",n.categorieDto.designation))},dependencies:[c.rH,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F]}),r})();var d=m(5861),_=m(3583);const he=["content"];function Ze(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function Te(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",52),e._UZ(11,"i",53),e._uU(12," Modifier "),e.qZA(),e.TgZ(13,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteCategorie(a.id))}),e._UZ(14,"i",50),e._uU(15," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.nomcategorie),e.xp6(2),e.Oqu(t.designation),e.xp6(2),e.MGl("routerLink","/admin/update-categorie/",t.id,"")}}function be(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let Ce=(()=>{class r{constructor(t){this.categorieService=t,this.categorieDtos=[],this.categorieDto=new O.G,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredCategories=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllCategorieDtos()}delete(){this.categorieService.deleteCategorie(this.categorieDto.id).subscribe(t=>{this.showSuccessMessage("Categorie"+this.categorieDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllCategorieDtos(),this.categorieDto=new O.G})}deleteCategorie(t){this.categorieService.deleteCategorie(t).subscribe(n=>{console.log(n),this.getAllCategorieDtos()})}ngOnInit(){this.getAllCategorieDtos(),this.filteredData()}getAllCategorieDtos(){var t=this;return(0,d.Z)(function*(){yield t.categorieService.getCategories().subscribe(n=>{t.categorieDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.code.localeCompare(n.code)),this.datas.sort((t,n)=>t.nomcategorie.localeCompare(n.nomcategorie))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterCategorieLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.categorieDtos.filter(n=>n.nomcategorie.toLowerCase().includes(t.searchText.toLowerCase())):t.categorieDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredCategories=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(F.a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-categorie"]],viewQuery:function(t,n){if(1&t&&e.Gf(he,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:90,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-categorie",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ze,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des categories"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"code"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterCategorieLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Libele"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Designation"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Actions"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,Te,16,5,"tr",29),e.qZA()(),e.TgZ(53,"div",0)(54,"nav")(55,"ul",30)(56,"li",31)(57,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(58,"span",33),e._uU(59,"\xab"),e.qZA()()(),e.TgZ(60,"li",31)(61,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(62,"span",33),e._uU(63,"\u2039"),e.qZA()()(),e.YNc(64,be,3,3,"li",35),e.TgZ(65,"li",31)(66,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(67,"span",33),e._uU(68,"\u203a"),e.qZA()()(),e.TgZ(69,"li",31)(70,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(71,"span",33),e._uU(72,"\xbb"),e.qZA()()()()()()(),e.TgZ(73,"div",38)(74,"div",39)(75,"div",40)(76,"div",41)(77,"h1",42),e._uU(78," Suppression "),e.qZA(),e.TgZ(79,"button",43),e._UZ(80,"i",44),e.qZA()(),e.TgZ(81,"div",45),e._uU(82," Etes-vous sur de vouloir supprimer cette categorie ? "),e.qZA(),e.TgZ(83,"div",46)(84,"button",47),e._UZ(85,"i",48),e._uU(86," Annuler "),e.qZA(),e.TgZ(87,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(88,"i",50),e._uU(89," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(16),e.Q6J("ngForOf",n.filteredCategories),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})();var T=m(5500),b=m(1576);class Ae{constructor(){this.id=0,this.nom=""}}var f=m(2340),h=m(529);let ve=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"magasins"}getMagasins(){return this.httpClient.get(`${this.baseURL}/list`)}getMagasinById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addMagasin(t){return this.httpClient.post(`${this.baseURL}`,t)}updateMagasin(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,Ae)}deleteMagasin(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Pe(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le nom du produit "),e.qZA())}function qe(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function Ue(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function Me(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la prixAchat du produit "),e.qZA())}function De(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function ke(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function xe(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la quantite du produit "),e.qZA())}function ye(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function Le(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function Je(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le code du produit "),e.qZA())}function Fe(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function Se(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function Ne(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la designation du produit "),e.qZA())}function we(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function Ie(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function Qe(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucune cat\xe9gorie disponible"),e.qZA())}function Oe(r,i){if(1&r&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.nomcategorie)}}const Ee=function(){return["../list-produit"]},M=function(r){return{"is-invalid":r}};let Ye=(()=>{class r{constructor(t,n,o,a,l){this.fb=t,this.produitService=n,this.categorieService=o,this.magasinService=a,this.router=l,this.produitDto=new T.I,this.categories=[],this.magasins=[]}ngOnInit(){this.getCategories()}getCategories(){this.categorieService.getCategories().subscribe(t=>{this.categories=t,console.log("Toutes les categories: ",this.categories)})}getMagasins(){this.magasinService.getMagasins().subscribe(t=>{this.magasins=t,console.log("Toutes les magasins: ",this.magasins)})}saveProduit(){this.produitService.addProduit(this.produitDto).subscribe(t=>{console.log(t),console.log("Produit cr\xe9\xe9 avec succ\xe8s!"),this.goToproduitList()},t=>console.log(t))}goToproduitList(){this.router.navigate(["admin/list-produit"])}onSubmit(){console.log(this.produitDto),this.saveProduit()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.qu),e.Y36(b.d),e.Y36(F.a),e.Y36(ve),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-produit"]],decls:63,vars:40,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","placeholder","Nom","name","nom","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","number","placeholder","prixAchat du produit","name","prixAchat","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prixAchatVar","ngModel"],["type","number","placeholder","quantite du produit","name","quantite","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["quantiteVar","ngModel"],["type","text","placeholder","code du produit","name","code","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["codeVar","ngModel"],["type","text","placeholder","designation du produit","name","designation","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["designationVar","ngModel"],[1,"form-label"],["name","categories","id","categories","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un produit "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"div",7)(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.produitDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,Pe,2,0,"span",11),e.YNc(16,qe,2,0,"span",11),e.YNc(17,Ue,2,0,"span",11),e.qZA(),e.TgZ(18,"div",7)(19,"label"),e._uU(20,"prixAchat"),e.qZA(),e.TgZ(21,"input",12,13),e.NdJ("ngModelChange",function(a){return n.produitDto.prixAchat=a}),e.qZA(),e.TgZ(23,"div",10),e.YNc(24,Me,2,0,"span",11),e.YNc(25,De,2,0,"span",11),e.YNc(26,ke,2,0,"span",11),e.qZA()(),e.TgZ(27,"div",7)(28,"label"),e._uU(29,"quantite"),e.qZA(),e.TgZ(30,"input",14,15),e.NdJ("ngModelChange",function(a){return n.produitDto.quantite=a}),e.qZA(),e.TgZ(32,"div",10),e.YNc(33,xe,2,0,"span",11),e.YNc(34,ye,2,0,"span",11),e.YNc(35,Le,2,0,"span",11),e.qZA()(),e.TgZ(36,"div",7)(37,"label"),e._uU(38,"code"),e.qZA(),e.TgZ(39,"input",16,17),e.NdJ("ngModelChange",function(a){return n.produitDto.codeproduit=a}),e.qZA(),e.TgZ(41,"div",10),e.YNc(42,Je,2,0,"span",11),e.YNc(43,Fe,2,0,"span",11),e.YNc(44,Se,2,0,"span",11),e.qZA()(),e.TgZ(45,"div",7)(46,"label"),e._uU(47,"designation"),e.qZA(),e.TgZ(48,"input",18,19),e.NdJ("ngModelChange",function(a){return n.produitDto.designation=a}),e.qZA(),e.TgZ(50,"div",10),e.YNc(51,Ne,2,0,"span",11),e.YNc(52,we,2,0,"span",11),e.YNc(53,Ie,2,0,"span",11),e.qZA()(),e.TgZ(54,"div",7)(55,"label",20),e._uU(56,"Cat\xe9gorie"),e.qZA(),e.TgZ(57,"select",21),e.NdJ("ngModelChange",function(a){return n.produitDto.categorieDto.id=a}),e.YNc(58,Qe,2,0,"option",11),e.YNc(59,Oe,2,2,"option",22),e.qZA()()()(),e.TgZ(60,"div",23)(61,"button",24),e._uU(62,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(13),a=e.MAs(22),l=e.MAs(31),g=e.MAs(40),p=e.MAs(49);e.xp6(4),e.Q6J("routerLink",e.DdM(29,Ee)),e.xp6(8),e.Q6J("ngModel",n.produitDto.nom)("ngClass",e.VKq(30,M,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.prixAchat)("ngClass",e.VKq(32,M,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.quantite)("ngClass",e.VKq(34,M,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.codeproduit)("ngClass",e.VKq(36,M,g.touched&&!g.valid)),e.xp6(3),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.designation)("ngClass",e.VKq(38,M,p.touched&&!p.valid)),e.xp6(3),e.Q6J("ngIf",null==p.errors?null:p.errors.required),e.xp6(1),e.Q6J("ngIf",null==p.errors?null:p.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==p.errors?null:p.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.categorieDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.categories&&n.categories.length)),e.xp6(1),e.Q6J("ngForOf",n.categories)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();function Be(r,i){if(1&r&&(e.TgZ(0,"div",1),e._UZ(1,"span",2),e._uU(2),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.errorMsg,"\n")}}let D=(()=>{class r{constructor(){this.errorMsg="",this.displayError=!1}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-field-error-display"]],inputs:{errorMsg:"errorMsg",displayError:"displayError"},decls:1,vars:1,consts:[["class","card bg-danger mt-1 w-100",4,"ngIf"],[1,"card","bg-danger","mt-1","w-100"],[1,"glyphicon","glyphicon-remove","form-control-feedback","fix-error-icon"]],template:function(t,n){1&t&&e.YNc(0,Be,3,1,"div",0),2&t&&e.Q6J("ngIf",n.displayError)},dependencies:[u.O5]}),r})();function Re(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Gre("text-center ",t.style,""),e.xp6(1),e.Oqu(t.message)}}let je=(()=>{class r{constructor(t,n,o,a,l){this.formBuilder=t,this.produitService=n,this.categorieService=o,this.router=a,this.route=l,this.produitDto=new T.I,this.idProduit=0,this.categorieDtos=[],this.formSubmitAttempt=!1,this.formProduit=this.formBuilder.group({code:[null,s.kI.required],nom:[null,s.kI.required]}),this.idProduit=this.router.snapshot.params.id,this.getProduit(this.idProduit),this.getAllCategories()}ngOnInit(){throw new Error("Method not implemented.")}submitForm(){this.formSubmitAttempt=!0,this.updateProduit(this.produitDto)}updateProduit(t){this.formProduit.valid?this.produitService.updateProduit(t.id,t).subscribe(n=>{this.produitDto=n,this.showSuccessMessage("Produit enr\xe9gistr\xe9 avec succ\xe8s"),this.formProduit.reset(),this.formSubmitAttempt=!1},n=>{console.error("Error updating produit:",n)}):this.showErrorMessage("Verifiez vos donn\xe9es et renseignez les champs obligatoire avec un *")}getProduit(t){this.produitService.getProduitById(t).subscribe(n=>{this.produitDto=n})}showSuccessMessage(t){this.message="Op\xe9ration r\xe9ussie !\n "+t,this.style="alert alert-success",setTimeout(()=>{this.message=""},5e3),this.route.navigate(["/admin/list-produit"])}showErrorMessage(t){this.message="Oops un probleme est survenu. Op\xe9ration \xe9chou\xe9e !\n "+t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}getAllCategories(){this.categorieService.getCategories().subscribe(t=>{this.categorieDtos=t})}isFieldValid(t){return!this.formProduit.get(t).valid&&this.formProduit.get(t).touched||this.formProduit.get(t).untouched&&this.formSubmitAttempt}displayFieldCss(t){return{"has-error":this.isFieldValid(t),"has-feedback":this.isFieldValid(t)}}validateAllFormFields(t){Object.keys(t.controls).forEach(n=>{const o=t.get(n);o instanceof s.NI?o.markAsTouched({onlySelf:!0}):o instanceof s.cw&&this.validateAllFormFields(o)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.qu),e.Y36(b.d),e.Y36(F.a),e.Y36(c.gz),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-produit"]],decls:39,vars:13,consts:[[1,"container","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[3,"class",4,"ngIf"],[1,"card","col-6","p-2"],[1,"card-header","text-center","p-2","bg-info"],[1,"card-content"],[1,"form-group"],["for","code"],["type","text","autofocus","","id","code","formControlName","code",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le code du d\xe9partement",3,"displayError"],["for","nom"],["type","text","id","nom","formControlName","nom",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le nom du d\xe9partement",3,"displayError"],["for","designation"],["type","text","id","designation","formControlName","designation",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le designation du d\xe9partement",3,"displayError"],["for","PrixAchat"],["type","text","id","PrixAchat","formControlName","PrixAchat",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le PrixAchat du d\xe9partement",3,"displayError"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","col-4","mx-auto",3,"disabled"],[1,"fa","fa-edit"],["routerLink","/admin/list-produit",1,"btn","btn-danger","col-4","mx-auto"],[1,"fa","fa-arrow-left"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.YNc(2,Re,2,4,"div",2),e.TgZ(3,"div",3)(4,"h5",4),e._uU(5,"Formulaire de modification de produits"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Code"),e.qZA(),e.TgZ(10,"input",8),e.NdJ("ngModelChange",function(a){return n.produitDto.codeproduit=a}),e.qZA(),e._UZ(11,"app-field-error-display",9),e.qZA(),e.TgZ(12,"div",6)(13,"label",10),e._uU(14,"nom"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(a){return n.produitDto.nom=a}),e.qZA(),e._UZ(16,"app-field-error-display",12),e.qZA(),e.TgZ(17,"div",6)(18,"label",13),e._uU(19,"designation"),e.qZA(),e.TgZ(20,"input",14),e.NdJ("ngModelChange",function(a){return n.produitDto.designation=a}),e.qZA(),e._UZ(21,"app-field-error-display",15),e.qZA(),e.TgZ(22,"div",6)(23,"label",13),e._uU(24,"designation"),e.qZA(),e.TgZ(25,"input",14),e.NdJ("ngModelChange",function(a){return n.produitDto.designation=a}),e.qZA(),e._UZ(26,"app-field-error-display",15),e.qZA()(),e.TgZ(27,"div",6)(28,"label",16),e._uU(29,"PrixAchat"),e.qZA(),e.TgZ(30,"input",17),e.NdJ("ngModelChange",function(a){return n.produitDto.prixAchat=a}),e.qZA(),e._UZ(31,"app-field-error-display",18),e.qZA(),e.TgZ(32,"div",19)(33,"button",20),e._UZ(34,"i",21),e._uU(35," Modifier "),e.qZA(),e.TgZ(36,"button",22),e._UZ(37,"i",23),e._uU(38," Annuler "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.formProduit),e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(8),e.Q6J("ngModel",n.produitDto.codeproduit),e.xp6(1),e.Q6J("displayError",n.isFieldValid("code")),e.xp6(4),e.Q6J("ngModel",n.produitDto.nom),e.xp6(1),e.Q6J("displayError",n.isFieldValid("nom")),e.xp6(4),e.Q6J("ngModel",n.produitDto.designation),e.xp6(1),e.Q6J("displayError",n.isFieldValid("designation")),e.xp6(4),e.Q6J("ngModel",n.produitDto.designation),e.xp6(1),e.Q6J("displayError",n.isFieldValid("designation")),e.xp6(4),e.Q6J("ngModel",n.produitDto.prixAchat),e.xp6(1),e.Q6J("displayError",n.isFieldValid("PrixAchat")),e.xp6(2),e.Q6J("disabled",!n.formProduit.valid))},dependencies:[u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,D]}),r})();const Ve=["content"];function $e(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function Ge(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",52),e._UZ(13,"i",53),e._uU(14," Modifier "),e.qZA(),e.TgZ(15,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteProduit(a.id))}),e._UZ(16,"i",50),e._uU(17," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.categorieDto.nomcategorie),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.prixAchat),e.xp6(2),e.Oqu(t.quantite),e.xp6(2),e.MGl("routerLink","/admin/update-produit/",t.id,"")}}function Ke(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let ze=(()=>{class r{constructor(t){this.produitService=t,this.produitDtos=[],this.produitDto=new T.I,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredProduits=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllProduitDtos()}delete(){this.produitService.deleteProduit(this.produitDto.id).subscribe(t=>{this.showSuccessMessage("Produit"+this.produitDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllProduitDtos(),this.produitDto=new T.I})}deleteProduit(t){this.produitService.deleteProduit(t).subscribe(n=>{console.log(n),this.getAllProduitDtos()})}ngOnInit(){this.getAllProduitDtos(),this.filteredData()}getAllProduitDtos(){var t=this;return(0,d.Z)(function*(){yield t.produitService.getProduits().subscribe(n=>{t.produitDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)),this.datas.sort((t,n)=>t.designation.localeCompare(n.designation))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterProduitLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.produitDtos.filter(n=>n.nom.toLowerCase().includes(t.searchText.toLowerCase())):t.produitDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredProduits=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(b.d))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-produit"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ve,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:92,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-produit",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","code"],["value","libelle"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,$e,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des produits"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Code"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Libelle"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterProduitLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Nom categorie"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Nom produit"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Prix d'achat"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Quantite"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Actions"),e.qZA()()(),e.TgZ(53,"tbody"),e.YNc(54,Ge,18,6,"tr",29),e.qZA()(),e.TgZ(55,"div",0)(56,"nav")(57,"ul",30)(58,"li",31)(59,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(60,"span",33),e._uU(61,"\xab"),e.qZA()()(),e.TgZ(62,"li",31)(63,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(64,"span",33),e._uU(65,"\u2039"),e.qZA()()(),e.YNc(66,Ke,3,3,"li",35),e.TgZ(67,"li",31)(68,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(69,"span",33),e._uU(70,"\u203a"),e.qZA()()(),e.TgZ(71,"li",31)(72,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(73,"span",33),e._uU(74,"\xbb"),e.qZA()()()()()()(),e.TgZ(75,"div",38)(76,"div",39)(77,"div",40)(78,"div",41)(79,"h1",42),e._uU(80," Suppression "),e.qZA(),e.TgZ(81,"button",43),e._UZ(82,"i",44),e.qZA()(),e.TgZ(83,"div",45),e._uU(84," Etes-vous sur de vouloir supprimer cette produit ? "),e.qZA(),e.TgZ(85,"div",46)(86,"button",47),e._UZ(87,"i",48),e._uU(88," Annuler "),e.qZA(),e.TgZ(89,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(90,"i",50),e._uU(91," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(18),e.Q6J("ngForOf",n.filteredProduits),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})();var k=m(6733),Z=m(3536);const He=["content"];function Xe(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function We(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",52),e._UZ(9,"i",53),e._uU(10," Modifier "),e.qZA(),e.TgZ(11,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteBureau(a.id))}),e._UZ(12,"i",50),e._uU(13," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.MGl("routerLink","/admin/update-bureau/",t.id,"")}}function et(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let tt=(()=>{class r{constructor(t){this.bureauService=t,this.bureauDtos=[],this.bureauDto=new k.R,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredBureaus=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllBureauDtos()}delete(){this.bureauService.deleteBureau(this.bureauDto.id).subscribe(t=>{this.showSuccessMessage("Bureau"+this.bureauDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllBureauDtos(),this.bureauDto=new k.R})}deleteBureau(t){this.bureauService.deleteBureau(t).subscribe(n=>{console.log(n),this.getAllBureauDtos()})}ngOnInit(){this.getAllBureauDtos(),this.filteredData()}getAllBureauDtos(){var t=this;return(0,d.Z)(function*(){yield t.bureauService.getBureaus().subscribe(n=>{t.bureauDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"nom"==this.filterBy&&this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterBureauLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.bureauDtos.filter(n=>n.nom.toLowerCase().includes(t.searchText.toLowerCase())):t.bureauDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredBureaus=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.c))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-bureau"]],viewQuery:function(t,n){if(1&t&&e.Gf(He,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:88,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-bureau",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","code"],["value","libelle"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Xe,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des bureaus"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Code"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Libelle"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterBureauLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Libele"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Actions"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,We,14,4,"tr",29),e.qZA()(),e.TgZ(51,"div",0)(52,"nav")(53,"ul",30)(54,"li",31)(55,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(56,"span",33),e._uU(57,"\xab"),e.qZA()()(),e.TgZ(58,"li",31)(59,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(60,"span",33),e._uU(61,"\u2039"),e.qZA()()(),e.YNc(62,et,3,3,"li",35),e.TgZ(63,"li",31)(64,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(65,"span",33),e._uU(66,"\u203a"),e.qZA()()(),e.TgZ(67,"li",31)(68,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(69,"span",33),e._uU(70,"\xbb"),e.qZA()()()()()()(),e.TgZ(71,"div",38)(72,"div",39)(73,"div",40)(74,"div",41)(75,"h1",42),e._uU(76," Suppression "),e.qZA(),e.TgZ(77,"button",43),e._UZ(78,"i",44),e.qZA()(),e.TgZ(79,"div",45),e._uU(80," Etes-vous sur de vouloir supprimer cette bureau ? "),e.qZA(),e.TgZ(81,"div",46)(82,"button",47),e._UZ(83,"i",48),e._uU(84," Annuler "),e.qZA(),e.TgZ(85,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(86,"i",50),e._uU(87," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(14),e.Q6J("ngForOf",n.filteredBureaus),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})(),v=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"departements"}getDepartements(){return this.httpClient.get(`${this.baseURL}/list`)}getDepartementById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addDepartement(t){return this.httpClient.post(`${this.baseURL}`,t)}updateDepartement(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteDepartement(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function nt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez votre nom "),e.qZA())}function rt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function ot(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function it(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucune cat\xe9gorie disponible"),e.qZA())}function at(r,i){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.nom)}}const st=function(){return["../list-bureau"]},lt=function(r){return{"is-invalid":r}};let ut=(()=>{class r{constructor(t,n,o){this.bureauService=t,this.departementService=n,this.router=o,this.departements=[],this.bureauDto=new k.R}ngOnInit(){this.getDepartemets()}saveBureau(){this.bureauService.addBureau(this.bureauDto).subscribe(t=>{console.log(t),this.goTobureauList()},t=>console.log(t))}goTobureauList(){this.router.navigate(["admin/list-bureau"])}onSubmit(){console.log(this.bureauDto),this.saveBureau()}getDepartemets(){this.departementService.getDepartements().subscribe(t=>{this.departements=t,console.log("Toutes les departemets: ",this.departements)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.c),e.Y36(v),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-bureau"]],decls:29,vars:12,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"col-md-4","mb-3"],["type","text","placeholder","Nom","name","nom","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],[1,"mb-3"],[1,"form-label"],["name","departements","id","departements","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[1,"form-row","mb-3"],[1,"col-md-12"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un Bureau"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"div",7)(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.bureauDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,nt,2,0,"span",11),e.YNc(16,rt,2,0,"span",11),e.YNc(17,ot,2,0,"span",11),e.qZA(),e.TgZ(18,"div",12)(19,"label",13),e._uU(20,"Departement"),e.qZA(),e.TgZ(21,"select",14),e.NdJ("ngModelChange",function(a){return n.bureauDto.departementDto.id=a}),e.YNc(22,it,2,0,"option",11),e.YNc(23,at,2,2,"option",15),e.qZA()()()(),e.TgZ(24,"div",16)(25,"button",17),e._uU(26,"Sauvegarder"),e.qZA()(),e.TgZ(27,"div",18),e._UZ(28,"div",19),e.qZA()()()()),2&t){const o=e.MAs(13);e.xp6(4),e.Q6J("routerLink",e.DdM(9,st)),e.xp6(8),e.Q6J("ngModel",n.bureauDto.nom)("ngClass",e.VKq(10,lt,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.bureauDto.departementDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.departements&&n.departements.length)),e.xp6(1),e.Q6J("ngForOf",n.departements)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();function ct(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Gre("text-center ",t.style,""),e.xp6(1),e.Oqu(t.message)}}let dt=(()=>{class r{constructor(t,n,o,a){this.formBuilder=t,this.bureauService=n,this.router=o,this.route=a,this.bureauDto=new k.R,this.idBureau=0,this.departementDtos=[],this.formSubmitAttempt=!1,this.formBureau=this.formBuilder.group({nom:[null,s.kI.required]}),this.idBureau=this.router.snapshot.params.id,this.getBureau(this.idBureau)}ngOnInit(){throw new Error("Method not implemented.")}submitForm(){this.formSubmitAttempt=!0,this.updateBureau(this.bureauDto)}updateBureau(t){this.formBureau.valid?this.bureauService.updateBureau(t.id,t).subscribe(n=>{this.bureauDto=n,this.showSuccessMessage("Bureau enr\xe9gistr\xe9 avec succ\xe8s"),this.formBureau.reset(),this.formSubmitAttempt=!1},n=>{console.error("Error updating bureau:",n)}):this.showErrorMessage("Verifiez vos donn\xe9es et renseignez les champs obligatoire avec un *")}getBureau(t){this.bureauService.getBureauById(t).subscribe(n=>{this.bureauDto=n})}showSuccessMessage(t){this.message="Op\xe9ration r\xe9ussie !\n "+t,this.style="alert alert-success",setTimeout(()=>{this.message=""},5e3),this.route.navigate(["/admin/list-bureau"])}showErrorMessage(t){this.message="Oops un probleme est survenu. Op\xe9ration \xe9chou\xe9e !\n "+t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}isFieldValid(t){return!this.formBureau.get(t).valid&&this.formBureau.get(t).touched||this.formBureau.get(t).untouched&&this.formSubmitAttempt}displayFieldCss(t){return{"has-error":this.isFieldValid(t),"has-feedback":this.isFieldValid(t)}}validateAllFormFields(t){Object.keys(t.controls).forEach(n=>{const o=t.get(n);o instanceof s.NI?o.markAsTouched({onlySelf:!0}):o instanceof s.cw&&this.validateAllFormFields(o)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.qu),e.Y36(Z.c),e.Y36(c.gz),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-bureau"]],decls:19,vars:5,consts:[[1,"container","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[3,"class",4,"ngIf"],[1,"card","col-6","p-2"],[1,"card-header","text-center","p-2","bg-info"],[1,"card-content"],[1,"form-group"],["for","nom"],["type","text","autofocus","","id","nom","formControlName","nom",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le nom du Bureau",3,"displayError"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","col-4","mx-auto",3,"disabled"],[1,"fa","fa-edit"],["routerLink","/admin/list-bureau",1,"btn","btn-danger","col-4","mx-auto"],[1,"fa","fa-arrow-left"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.YNc(2,ct,2,4,"div",2),e.TgZ(3,"div",3)(4,"h5",4),e._uU(5,"Formulaire de modification de bureaus"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Nom du bureau"),e.qZA(),e.TgZ(10,"input",8),e.NdJ("ngModelChange",function(a){return n.bureauDto.nom=a}),e.qZA(),e._UZ(11,"app-field-error-display",9),e.qZA()(),e.TgZ(12,"div",10)(13,"button",11),e._UZ(14,"i",12),e._uU(15," Modifier "),e.qZA(),e.TgZ(16,"button",13),e._UZ(17,"i",14),e._uU(18," Annuler "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.formBureau),e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(8),e.Q6J("ngModel",n.bureauDto.nom),e.xp6(1),e.Q6J("displayError",n.isFieldValid("nom")),e.xp6(2),e.Q6J("disabled",!n.formBureau.valid))},dependencies:[u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,D]}),r})(),gt=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-demande"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-demande works!"),e.qZA())}}),r})();var E=m(2348),te=m(4112);const pt=["content"];function mt(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function _t(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",52),e._UZ(11,"i",53),e._uU(12," Modifier "),e.qZA(),e.TgZ(13,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteDemande(a.id))}),e._UZ(14,"i",50),e._uU(15," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.motif),e.xp6(2),e.AsE("",t.personelDto.prenom," ",t.personelDto.nom,""),e.xp6(2),e.MGl("routerLink","/admin/update-demande/",t.id,"")}}function ft(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let ht=(()=>{class r{constructor(t){this.demandeService=t,this.demandeDtos=[],this.demandeDto=new E.f,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredDemandes=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllDemandeDtos()}delete(){this.demandeService.deleteDemande(this.demandeDto.id).subscribe(t=>{this.showSuccessMessage("Demande"+this.demandeDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllDemandeDtos(),this.demandeDto=new E.f})}deleteDemande(t){this.demandeService.deleteDemande(t).subscribe(n=>{console.log(n),this.getAllDemandeDtos()})}ngOnInit(){this.getAllDemandeDtos(),this.filteredData()}getAllDemandeDtos(){var t=this;return(0,d.Z)(function*(){yield t.demandeService.getDemandes().subscribe(n=>{t.demandeDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&this.datas.sort((t,n)=>t.motif.localeCompare(n.motif)),"bureau"==this.filterBy&&this.datas.sort((t,n)=>t.bureauDto.nom.localeCompare(n.bureauDto.nom)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterDemandeLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.demandeDtos.filter(n=>n.motif.toLowerCase().includes(t.searchText.toLowerCase())||n.bureauDto.nom.toLowerCase().includes(t.searchText.toLowerCase())):t.demandeDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredDemandes=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(te.d))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-demande"]],viewQuery:function(t,n){if(1&t&&e.Gf(pt,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:90,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-demande",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","motif"],["value","bureau"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,mt,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des demandes"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Motif"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Bureau"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterDemandeLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Motif et type de materiel"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Nom"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Actions"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,_t,16,6,"tr",29),e.qZA()(),e.TgZ(53,"div",0)(54,"nav")(55,"ul",30)(56,"li",31)(57,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(58,"span",33),e._uU(59,"\xab"),e.qZA()()(),e.TgZ(60,"li",31)(61,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(62,"span",33),e._uU(63,"\u2039"),e.qZA()()(),e.YNc(64,ft,3,3,"li",35),e.TgZ(65,"li",31)(66,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(67,"span",33),e._uU(68,"\u203a"),e.qZA()()(),e.TgZ(69,"li",31)(70,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(71,"span",33),e._uU(72,"\xbb"),e.qZA()()()()()()(),e.TgZ(73,"div",38)(74,"div",39)(75,"div",40)(76,"div",41)(77,"h1",42),e._uU(78," Suppression "),e.qZA(),e.TgZ(79,"button",43),e._UZ(80,"i",44),e.qZA()(),e.TgZ(81,"div",45),e._uU(82," Etes-vous sur de vouloir supprimer cette demande ? "),e.qZA(),e.TgZ(83,"div",46)(84,"button",47),e._UZ(85,"i",48),e._uU(86," Annuler "),e.qZA(),e.TgZ(87,"button",49),e.NdJ("click",function(){return n.deleteDemande(n.demandeDto.id)}),e._UZ(88,"i",50),e._uU(89," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(16),e.Q6J("ngForOf",n.filteredDemandes),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})();var A=m(4941);function Zt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le motif de votre demande "),e.qZA())}function Tt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function bt(r,i){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nom)}}function Ct(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucun personel disponible"),e.qZA())}function At(r,i){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.nom)}}const vt=function(){return["../list-demande"]},Pt=function(r){return{"is-invalid":r}};let qt=(()=>{class r{constructor(t,n,o,a){this.demandeService=t,this.personelService=n,this.bureauService=o,this.router=a,this.bureaus=[],this.personels=[],this.demandeDto=new E.f}ngOnInit(){this.getBureaus(),this.getPersonels()}getBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureaus=t,console.log("Toutes les bureaus: ",this.bureaus)})}saveDemande(){this.demandeService.addDemande(this.demandeDto).subscribe(t=>{console.log(t),this.goTodemandeList()},t=>console.log(t))}goTodemandeList(){this.router.navigate(["admin/list-demande"])}onSubmit(){console.log(this.demandeDto),this.saveDemande()}getPersonels(){this.personelService.getPersonels().subscribe(t=>{this.personels=t,console.log("Toutes les personels: ",this.personels)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(te.d),e.Y36(A._),e.Y36(Z.c),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-demande"]],decls:32,vars:12,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],["iv","",1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","placeholder","Motif d'explication","name","motif","required","","minlength","4",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["motifVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["for","bureau"],["id","bureau","formControlName","bureauDto","required","",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-label"],["name","personel","id","personels","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-right"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Ajouter une nouvelle demande ! "),e.TgZ(3,"button",2),e._UZ(4,"i",3),e.qZA()(),e.TgZ(5,"div",4)(6,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"div",6)(8,"div",7)(9,"label"),e._uU(10,"Nom et Motif"),e.qZA(),e.TgZ(11,"input",8,9),e.NdJ("ngModelChange",function(a){return n.demandeDto.motif=a}),e.qZA(),e.TgZ(13,"div",10),e.YNc(14,Zt,2,0,"span",11),e.YNc(15,Tt,2,0,"span",11),e.qZA()(),e.TgZ(16,"div",7)(17,"label",12),e._uU(18,"Bureau"),e.qZA(),e.TgZ(19,"select",13)(20,"option",14),e._uU(21,"S\xe9lectionnez un bureau"),e.qZA(),e.YNc(22,bt,2,2,"option",15),e.qZA()(),e.TgZ(23,"div",7)(24,"label",16),e._uU(25,"Nom du personel"),e.qZA(),e.TgZ(26,"select",17),e.NdJ("ngModelChange",function(a){return n.demandeDto.personelDto.id=a}),e.YNc(27,Ct,2,0,"option",11),e.YNc(28,At,2,2,"option",15),e.qZA()(),e.TgZ(29,"div",18)(30,"button",19),e._uU(31,"Sauvegarder"),e.qZA()()()()()()),2&t){const o=e.MAs(12);e.xp6(3),e.Q6J("routerLink",e.DdM(9,vt)),e.xp6(8),e.Q6J("ngModel",n.demandeDto.motif)("ngClass",e.VKq(10,Pt,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(7),e.Q6J("ngForOf",n.bureaus),e.xp6(4),e.Q6J("ngModel",n.demandeDto.personelDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.personels&&n.personels.length)),e.xp6(1),e.Q6J("ngForOf",n.personels)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.On,s.F,s.u]}),r})();class P{constructor(){this.id=0,this.prenom="",this.nom="",this.adresse="",this.mail="",this.numtel=""}}class x{constructor(){this.id=0,this.numero=0,this.code=" ",this.total=0,this.datecommande="",this.fournisseurDto=new P}}class Y{constructor(){this.id=0,this.quantite=0,this.total=0,this.produitDto=new T.I,this.factureDto=new x}}let ne=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"factures"}getFactures(){return this.httpClient.get(`${this.baseURL}/list`)}getFactureById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addFacture(t){return this.httpClient.post(`${this.baseURL}`,t)}updateFacture(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteFacture(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ut=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"lignefactures"}getLignefactures(){return this.httpClient.get(`${this.baseURL}/list`)}getLignefactureById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addLignefacture(t){return this.httpClient.post(`${this.baseURL}`,t)}updateLignefacture(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,Y)}deleteLignefacture(t){return this.httpClient.delete(`${this.baseURL}'/lignefactures/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),B=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"fournisseurs"}getFournisseurs(){return this.httpClient.get(`${this.baseURL}/list`)}getFournisseurById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addFournisseur(t){return this.httpClient.post(`${this.baseURL}`,t)}updateFournisseur(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteFournisseur(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Mt(r,i){if(1&r&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nom)}}function Dt(r,i){if(1&r&&(e.TgZ(0,"div",34)(1,"div",35)(2,"h4",36),e._uU(3),e.qZA()(),e.TgZ(4,"button",37)(5,"i",38),e._uU(6," Enregistrer la facture "),e.qZA()()()),2&r){const t=e.oxw();e.xp6(3),e.hij(" Total: ",0==t.montant?"":t.montant.toLocaleString("fr-FR")," FCFA "),e.xp6(1),e.Q6J("disabled",!t.formFacture.valid)}}function kt(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",39),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",39),e._uU(6),e.qZA(),e.TgZ(7,"td",39),e._uU(8),e.qZA(),e.TgZ(9,"td",39),e._uU(10),e.qZA(),e.TgZ(11,"td",39)(12,"a",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.modifyLigneFacture(a))}),e._UZ(13,"i",41),e.qZA(),e.TgZ(14,"a",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteLigneFacture(a))}),e._UZ(15,"i",42),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.produitDto.designation),e.xp6(2),e.Oqu(t.quantite),e.xp6(2),e.Oqu(t.produitDto.prixAchat),e.xp6(2),e.Oqu(t.produitDto.prixAchat*t.quantite)}}function xt(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Gre("text-center ",t.style,""),e.xp6(1),e.Oqu(t.message)}}function yt(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",39),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",39),e._uU(8),e.qZA(),e.TgZ(9,"td",39),e._uU(10),e.qZA(),e.TgZ(11,"td",39)(12,"a",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.selectedProduit(a))}),e._UZ(13,"i",43),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.codeproduit),e.xp6(2),e.Oqu(t.designation),e.xp6(2),e.Oqu(t.quantite),e.xp6(2),e.Oqu(t.prixAchat)}}let Lt=(()=>{class r{constructor(t,n,o,a,l){this.produitService=t,this.factureService=n,this.ligneFactureService=o,this.fournisseurService=a,this.formBuilder=l,this.produitDtos=[],this.ligneFactureDtos=[],this.fournisseurDtos=[],this.factureDto=new x,this.ligneFactureDto=new Y,this.fournisseurDto=new P,this.formLigneFactureSubmitAttempt=!1,this.formFactureSubmitAttempt=!1,this.style="",this.message="",this.filterBy="",this.montant=0}ngOnInit(){this.loadProduits(),this.loadFournisseurs(),this.buildLigneFactureForm(),this.buildFactureForm()}submitForm(){return console.log(this.fournisseurDto),this.factureDto.fournisseurDto=this.fournisseurDto,console.log(this.factureDto),console.log(this.ligneFactureDtos),this.formLigneFactureSubmitAttempt=!0,this.formFactureSubmitAttempt=!0,0==this.ligneFactureDtos.length?(this.style="alert alert-danger",void this.showSuccessMessage("Veuillez ajouter au moins une ligne \xe0 la facture")):null!=this.fournisseurDto.id&&0!=this.fournisseurDto.id||null!=this.fournisseurDto.nom&&""!=this.fournisseurDto.nom?(this.factureDto.fournisseurDto=this.fournisseurDto,void this.addFacture()):(this.style="alert alert-danger",void this.showSuccessMessage("Veuillez renseigner le nom du fournisseur"))}addFacture(){var t=this;return(0,d.Z)(function*(){try{const n=yield t.factureService.addFacture(t.factureDto).toPromise();if(console.log("factureDto avant recursive: ",n),null==n||0==n.id)return t.style="alert alert-danger",void t.showSuccessMessage("Veuillez renseigner le nom du fournisseur");yield t.registerLigneFactureRecursively(n,t.ligneFactureDtos,0),t.factureDto=new x,t.ligneFactureDtos=[],t.fournisseurDto=new P,t.formLigneFacture.reset(),t.formLigneFactureSubmitAttempt=!1}catch(n){console.error(n)}})()}registerLigneFactureRecursively(t,n,o){if(o<n.length){let a=n[o];return a.factureDto=t,console.log("ligne ligneFactureDto dans recursive: ",a),this.registerLigneFacture(a).then(()=>this.registerLigneFactureRecursively(t,n,o+1))}return Promise.resolve()}registerLigneFacture(t){var n=this;return(0,d.Z)(function*(){try{const o=yield n.ligneFactureService.addLignefacture(t).toPromise();console.log("Ligne facture ajouter avec succes: ",o),t.produitDto.quantite=t.produitDto.quantite+t.quantite,yield n.produitService.updateProduit(t.produitDto.id,t.produitDto).toPromise(),console.log("Produit mis a jour avec succes: ",o)}catch(o){console.error(o)}})()}ajouterLigneFacture(){if(null!=this.ligneFactureDto.produitDto.id&&0!=this.ligneFactureDto.produitDto.id){if(this.ligneFactureDtos.find(t=>t.produitDto.id==this.ligneFactureDto.produitDto.id))return this.style="alert alert-danger",void this.showSuccessMessage("Ce produit existe de\u0301ja dans la facture");if(null==this.ligneFactureDto.quantite||0==this.ligneFactureDto.quantite)return this.style="alert alert-danger",void this.showSuccessMessage("Veuillez renseigner la quantite");this.ligneFactureDtos.push(this.ligneFactureDto),this.montant+=this.ligneFactureDto.produitDto.prixAchat*this.ligneFactureDto.quantite,this.ligneFactureDto=new Y,this.formLigneFactureSubmitAttempt=!1,this.formLigneFacture.reset(),this.factureDto.total=this.montant,this.addFacture()}}modifyLigneFacture(t){const n=this.ligneFactureDtos.indexOf(t);this.ligneFactureDto=this.ligneFactureDtos[n],this.ligneFactureDtos.splice(n,1)}deleteLigneFacture(t){const n=this.ligneFactureDtos.indexOf(t);this.ligneFactureDtos.splice(n,1)}selectedProduit(t){this.ligneFactureDto.produitDto=t}buildLigneFactureForm(){this.formLigneFacture=this.formBuilder.group({quantite:[null,[s.kI.min(1)]]})}buildFactureForm(){this.formFacture=this.formBuilder.group({numero:[null,s.kI.required],fournisseurDto:[null,s.kI.required]})}deleteProduit(t){confirm("E\u0302tes-vous su\u0302r de vouloir supprimer cet produit ?")&&this.produitService.deleteProduit(t).subscribe(()=>{this.loadProduits()})}loadProduits(){var t=this;return(0,d.Z)(function*(){try{yield t.produitService.getProduits().subscribe(n=>{t.produitDtos=n})}catch(n){console.error(n)}})()}loadFournisseurs(){var t=this;return(0,d.Z)(function*(){try{yield t.fournisseurService.getFournisseurs().subscribe(n=>{t.fournisseurDtos=n})}catch(n){console.error(n)}})()}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}isFieldLigneFactureValid(t){return!this.formLigneFacture.get(t).valid&&this.formLigneFacture.get(t).touched||this.formLigneFacture.get(t).untouched&&this.formLigneFactureSubmitAttempt}displayLigneFactureFieldCss(t){return{"has-error":this.isFieldLigneFactureValid(t),"has-feedback":this.isFieldLigneFactureValid(t)}}isFieldFactureValid(t){return!this.formFacture.get(t).valid&&this.formFacture.get(t).touched||this.formFacture.get(t).untouched&&this.formFactureSubmitAttempt}displayFactureFieldCss(t){return{"has-error":this.isFieldFactureValid(t),"has-feedback":this.isFieldFactureValid(t)}}validateAllFormFields(t){Object.keys(t.controls).forEach(n=>{const o=t.get(n);o instanceof s.NI?o.markAsTouched({onlySelf:!0}):o instanceof s.cw&&this.validateAllFormFields(o)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(b.d),e.Y36(ne),e.Y36(Ut),e.Y36(B),e.Y36(s.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-facture"]],decls:84,vars:17,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"card-header","text-center","p-2","bg-light"],[1,"form-group","col-3"],["for","numero"],["type","text","minlength","2","id","numero","formControlName","numero",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner la numero du produit",3,"displayError"],["for","fournisseur"],["id","fournisseur","formControlName","fournisseurDto",1,"form-control",3,"ngModel","ngModelChange"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["errorMsg","Veuillez renseigner le fournisseur du produit",3,"displayError"],["class","col-6 d-flex justify-content-center align-items-centers",4,"ngIf"],[1,"row","mt-2"],[1,"col-8"],[1,"table"],[4,"ngFor","ngForOf"],[1,"col-4"],[1,"card-header","text-center","p-2"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,""],[1,"form-group"],["for","quantite"],["type","number","min","1","id","quantite","formControlName","quantite",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner la quantite du produit",3,"displayError"],[1,"d-flex","justify-content-center","mt-3"],["type","submit",1,"btn","btn-primary","col-4","mx-auto",3,"disabled"],[1,"fa","fa-plus"],[3,"class",4,"ngIf"],[1,"mt-2"],[1,"table","mt-2","except"],["content",""],[3,"value"],[1,"col-6","d-flex","justify-content-center","align-items-centers"],[1,"col-6"],[1,"text-center","text-success"],[1,"btn","btn-warning","col-6",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],[1,"btn",3,"click"],[1,"fa","fa-edit","text-secondary"],[1,"fa","fa-trash","text-danger"],[1,"fa","fa-check-circle","text-dark"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.TgZ(1,"div",1)(2,"h5",2),e._uU(3,"Formulaire de creation de facture"),e.qZA(),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Numero facture"),e.qZA(),e.TgZ(7,"input",5),e.NdJ("ngModelChange",function(a){return n.factureDto.numero=a}),e.qZA(),e._UZ(8,"app-field-error-display",6),e.qZA(),e.TgZ(9,"div",3)(10,"label",7),e._uU(11,"Selectionner fournisseur"),e.qZA(),e.TgZ(12,"select",8),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.id=a}),e.TgZ(13,"option",9),e._uU(14,"Selectionnez un fournisseur"),e.qZA(),e.YNc(15,Mt,2,2,"option",10),e.qZA(),e._UZ(16,"app-field-error-display",11),e.qZA(),e.YNc(17,Dt,7,2,"div",12),e.qZA()(),e.TgZ(18,"form",0),e.NdJ("ngSubmit",function(){return n.ajouterLigneFacture()}),e.TgZ(19,"div",13)(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th"),e._uU(25,"#"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Libelle"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Qte"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Prix Unitaire"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Montant"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Actions"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,kt,16,5,"tr",16),e.qZA()()(),e.TgZ(38,"div",17)(39,"h5",18),e._uU(40,"Produit selectionner"),e.qZA(),e.TgZ(41,"ul",19)(42,"li",20),e._uU(43," Libelle : "),e.TgZ(44,"span",21),e._uU(45),e.qZA()(),e.TgZ(46,"li",20),e._uU(47," Prix unitaire : "),e.TgZ(48,"span",21),e._uU(49),e.qZA()(),e.TgZ(50,"li",20),e._uU(51," Quantite en stock : "),e.TgZ(52,"span",21),e._uU(53),e.qZA()()(),e.TgZ(54,"div",22)(55,"label",23),e._uU(56,"Quantite"),e.qZA(),e.TgZ(57,"input",24),e.NdJ("ngModelChange",function(a){return n.ligneFactureDto.quantite=a}),e.qZA(),e._UZ(58,"app-field-error-display",25),e.qZA(),e.TgZ(59,"div",26)(60,"button",27),e._UZ(61,"i",28),e._uU(62," Ajouter "),e.qZA()()(),e.YNc(63,xt,2,4,"div",29),e.qZA()(),e._UZ(64,"hr"),e.TgZ(65,"div",30)(66,"table",31,32)(68,"thead")(69,"tr")(70,"th"),e._uU(71,"#"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"Libelle"),e.qZA(),e.TgZ(74,"th"),e._uU(75,"Description"),e.qZA(),e.TgZ(76,"th"),e._uU(77,"Qte"),e.qZA(),e.TgZ(78,"th"),e._uU(79,"P.Vente"),e.qZA(),e.TgZ(80,"th"),e._uU(81,"Actions"),e.qZA()()(),e.TgZ(82,"tbody"),e.YNc(83,yt,14,5,"tr",16),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.formFacture),e.xp6(7),e.Q6J("ngModel",n.factureDto.numero),e.xp6(1),e.Q6J("displayError",n.isFieldFactureValid("numero")),e.xp6(4),e.Q6J("ngModel",n.fournisseurDto.id),e.xp6(3),e.Q6J("ngForOf",n.fournisseurDtos),e.xp6(1),e.Q6J("displayError",n.isFieldFactureValid("fournisseurDto")),e.xp6(1),e.Q6J("ngIf",n.ligneFactureDtos.length>0),e.xp6(1),e.Q6J("formGroup",n.formLigneFacture),e.xp6(19),e.Q6J("ngForOf",n.ligneFactureDtos),e.xp6(8),e.Oqu(n.ligneFactureDto.produitDto.designation),e.xp6(4),e.Oqu(0==n.ligneFactureDto.produitDto.prixAchat?"":n.ligneFactureDto.produitDto.prixAchat),e.xp6(4),e.Oqu(0==n.ligneFactureDto.produitDto.quantite?"":n.ligneFactureDto.produitDto.quantite),e.xp6(4),e.Q6J("ngModel",n.ligneFactureDto.quantite),e.xp6(1),e.Q6J("displayError",n.isFieldLigneFactureValid("quantite")),e.xp6(2),e.Q6J("disabled",!n.formLigneFacture.valid),e.xp6(3),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngForOf",n.produitDtos))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.wO,s.qQ,s.sg,s.u,D]}),r})();const Jt=["content"];function Ft(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function St(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",52),e._UZ(13,"i",53),e._uU(14," Modifier "),e.qZA(),e.TgZ(15,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteFacture(a.id))}),e._UZ(16,"i",50),e._uU(17," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.numero),e.xp6(2),e.Oqu(t.code),e.xp6(2),e.AsE("",t.fournisseurDto.prenom," ",t.fournisseurDto.nom,""),e.xp6(2),e.Oqu(t.total),e.xp6(2),e.MGl("routerLink","/admin/update-facture/",t.id,"")}}function Nt(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let wt=(()=>{class r{constructor(t){this.factureService=t,this.factureDtos=[],this.factureDto=new x,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredFactures=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllFactureDtos()}delete(){this.factureService.deleteFacture(this.factureDto.id).subscribe(t=>{this.showSuccessMessage("Facture"+this.factureDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllFactureDtos(),this.factureDto=new x})}deleteFacture(t){this.factureService.deleteFacture(t).subscribe(n=>{console.log(n),this.getAllFactureDtos()})}ngOnInit(){this.getAllFactureDtos(),this.filteredData()}getAllFactureDtos(){var t=this;return(0,d.Z)(function*(){yield t.factureService.getFactures().subscribe(n=>{t.factureDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"code"==this.filterBy&&(this.datas.sort((t,n)=>t.code.localeCompare(n.code)),this.datas.sort((t,n)=>t.datecommande.localeCompare(n.datecommande))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterFactureLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.factureDtos.filter(n=>n.code.toLowerCase().includes(t.searchText.toLowerCase())):t.factureDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredFactures=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("factures.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ne))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-facture"]],viewQuery:function(t,n){if(1&t&&e.Gf(Jt,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:92,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-facture",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","code"],["value","libelle"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ft,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des factures"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Code"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"nom"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterFactureLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"numero"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Code"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Nom du fourmiesseur"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Total"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Actions"),e.qZA()()(),e.TgZ(53,"tbody"),e.YNc(54,St,18,7,"tr",29),e.qZA()(),e.TgZ(55,"div",0)(56,"nav")(57,"ul",30)(58,"li",31)(59,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(60,"span",33),e._uU(61,"\xab"),e.qZA()()(),e.TgZ(62,"li",31)(63,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(64,"span",33),e._uU(65,"\u2039"),e.qZA()()(),e.YNc(66,Nt,3,3,"li",35),e.TgZ(67,"li",31)(68,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(69,"span",33),e._uU(70,"\u203a"),e.qZA()()(),e.TgZ(71,"li",31)(72,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(73,"span",33),e._uU(74,"\xbb"),e.qZA()()()()()()(),e.TgZ(75,"div",38)(76,"div",39)(77,"div",40)(78,"div",41)(79,"h1",42),e._uU(80," Suppression "),e.qZA(),e.TgZ(81,"button",43),e._UZ(82,"i",44),e.qZA()(),e.TgZ(83,"div",45),e._uU(84," Etes-vous sur de vouloir supprimer cette facture ? "),e.qZA(),e.TgZ(85,"div",46)(86,"button",47),e._UZ(87,"i",48),e._uU(88," Annuler "),e.qZA(),e.TgZ(89,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(90,"i",50),e._uU(91," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(18),e.Q6J("ngForOf",n.filteredFactures),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})(),It=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-facture"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-facture works!"),e.qZA())}}),r})();const Qt=["content"];function Ot(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function Et(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",52),e._UZ(15,"i",53),e._uU(16," Modifier "),e.qZA(),e.TgZ(17,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteFournisseur(a.id))}),e._UZ(18,"i",50),e._uU(19," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.prenom),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.adresse),e.xp6(2),e.Oqu(t.mail),e.xp6(2),e.Oqu(t.numtel),e.xp6(2),e.MGl("routerLink","/admin/update-fournisseur/",t.id,"")}}function Yt(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let Bt=(()=>{class r{constructor(t){this.fournisseurService=t,this.fournisseurDtos=[],this.fournisseurDto=new P,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredFournisseurs=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllFournisseurDtos()}delete(){this.fournisseurService.deleteFournisseur(this.fournisseurDto.id).subscribe(t=>{this.showSuccessMessage("Fournisseur"+this.fournisseurDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllFournisseurDtos(),this.fournisseurDto=new P})}deleteFournisseur(t){this.fournisseurService.deleteFournisseur(t).subscribe(n=>{console.log(n),this.getAllFournisseurDtos()})}ngOnInit(){this.getAllFournisseurDtos(),this.filteredData()}getAllFournisseurDtos(){var t=this;return(0,d.Z)(function*(){yield t.fournisseurService.getFournisseurs().subscribe(n=>{t.fournisseurDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)),this.datas.sort((t,n)=>t.prenom.localeCompare(n.prenom))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterFournisseurLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.fournisseurDtos.filter(n=>n.nom.toLowerCase().includes(t.searchText.toLowerCase())):t.fournisseurDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredFournisseurs=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-fournisseur"]],viewQuery:function(t,n){if(1&t&&e.Gf(Qt,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:94,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-fournisseur",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ot,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des fournisseurs"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"prenom"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterFournisseurLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Prenom"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Nom"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Addresse"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Email"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Numero"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Actions"),e.qZA()()(),e.TgZ(55,"tbody"),e.YNc(56,Et,20,7,"tr",29),e.qZA()(),e.TgZ(57,"div",0)(58,"nav")(59,"ul",30)(60,"li",31)(61,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(62,"span",33),e._uU(63,"\xab"),e.qZA()()(),e.TgZ(64,"li",31)(65,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(66,"span",33),e._uU(67,"\u2039"),e.qZA()()(),e.YNc(68,Yt,3,3,"li",35),e.TgZ(69,"li",31)(70,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(71,"span",33),e._uU(72,"\u203a"),e.qZA()()(),e.TgZ(73,"li",31)(74,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(75,"span",33),e._uU(76,"\xbb"),e.qZA()()()()()()(),e.TgZ(77,"div",38)(78,"div",39)(79,"div",40)(80,"div",41)(81,"h1",42),e._uU(82," Suppression "),e.qZA(),e.TgZ(83,"button",43),e._UZ(84,"i",44),e.qZA()(),e.TgZ(85,"div",45),e._uU(86," Etes-vous sur de vouloir supprimer cette fournisseur ? "),e.qZA(),e.TgZ(87,"div",46)(88,"button",47),e._UZ(89,"i",48),e._uU(90," Annuler "),e.qZA(),e.TgZ(91,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(92,"i",50),e._uU(93," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(20),e.Q6J("ngForOf",n.filteredFournisseurs),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})(),Rt=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-fournisseur"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-fournisseur works!"),e.qZA())}}),r})();function jt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function Vt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function $t(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Gt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le prenom "),e.qZA())}function Kt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function zt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Ht(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le adresse "),e.qZA())}function Xt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Wt(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function en(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le email "),e.qZA())}function tn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function nn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function rn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le numtel "),e.qZA())}function on(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function an(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}const sn=function(){return["../list-fournisseur"]},y=function(r){return{"is-invalid":r}};let ln=(()=>{class r{constructor(t,n){this.fournisseurService=t,this.router=n,this.fournisseurDto=new P}ngOnInit(){}saveFournisseur(){this.fournisseurService.addFournisseur(this.fournisseurDto).subscribe(t=>{console.log(t),this.goTofournisseurList()},t=>console.log(t))}goTofournisseurList(){this.router.navigate(["admin/list-fournisseur"])}onSubmit(){console.log(this.fournisseurDto),this.saveFournisseur()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(B),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-fournisseur"]],decls:61,vars:37,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"col-md-4","mb-3"],["type","text","placeholder","nom du fournisseur","name","nom","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","prenom du fournisseur","name","prenom","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prenomVar","ngModel"],["type","text","placeholder","adresse du fournisseur","name","adresse","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adresseVar","ngModel"],["type","email","placeholder","email du fournisseur","name","email","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["emailVar","ngModel"],["type","text","placeholder","numtel du fournisseur","name","numtel","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["numtelVar","ngModel"],[1,"text-right"],["type","submit",1,"btn","btn-info"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3," Cr\xe9er une fournisseur "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.TgZ(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,jt,2,0,"span",11),e.YNc(16,Vt,2,0,"span",11),e.YNc(17,$t,2,0,"span",11),e.qZA()(),e.TgZ(18,"div",6),e._UZ(19,"div",7),e.TgZ(20,"label"),e._uU(21,"Prenon"),e.qZA(),e.TgZ(22,"input",12,13),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.prenom=a}),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,Gt,2,0,"span",11),e.YNc(26,Kt,2,0,"span",11),e.YNc(27,zt,2,0,"span",11),e.qZA()(),e.TgZ(28,"div",6),e._UZ(29,"div",7),e.TgZ(30,"label"),e._uU(31,"Adresse"),e.qZA(),e.TgZ(32,"input",14,15),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.adresse=a}),e.qZA(),e.TgZ(34,"div",10),e.YNc(35,Ht,2,0,"span",11),e.YNc(36,Xt,2,0,"span",11),e.YNc(37,Wt,2,0,"span",11),e.qZA()(),e.TgZ(38,"div",6),e._UZ(39,"div",7),e.TgZ(40,"label"),e._uU(41,"E-mail"),e.qZA(),e.TgZ(42,"input",16,17),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.mail=a}),e.qZA(),e.TgZ(44,"div",10),e.YNc(45,en,2,0,"span",11),e.YNc(46,tn,2,0,"span",11),e.YNc(47,nn,2,0,"span",11),e.qZA()(),e.TgZ(48,"div",6),e._UZ(49,"div",7),e.TgZ(50,"label"),e._uU(51,"Numero de telephpone"),e.qZA(),e.TgZ(52,"input",18,19),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.numtel=a}),e.qZA(),e.TgZ(54,"div",10),e.YNc(55,rn,2,0,"span",11),e.YNc(56,on,2,0,"span",11),e.YNc(57,an,2,0,"span",11),e.qZA()(),e.TgZ(58,"div",20)(59,"button",21),e._uU(60,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(13),a=e.MAs(23),l=e.MAs(33),g=e.MAs(43),p=e.MAs(53);e.xp6(4),e.Q6J("routerLink",e.DdM(26,sn)),e.xp6(8),e.Q6J("ngModel",n.fournisseurDto.nom)("ngClass",e.VKq(27,y,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.fournisseurDto.prenom)("ngClass",e.VKq(29,y,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.fournisseurDto.adresse)("ngClass",e.VKq(31,y,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.fournisseurDto.mail)("ngClass",e.VKq(33,y,g.touched&&!g.valid)),e.xp6(3),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.fournisseurDto.numtel)("ngClass",e.VKq(35,y,p.touched&&!p.valid)),e.xp6(3),e.Q6J("ngIf",null==p.errors?null:p.errors.required),e.xp6(1),e.Q6J("ngIf",null==p.errors?null:p.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==p.errors?null:p.errors.maxlength)}},dependencies:[u.mk,u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();class S{constructor(){this.id=0,this.quantite="",this.nom="",this.date="",this.motif="",this.produitDto=new T.I}}let re=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"avaries"}getAvaries(){return this.httpClient.get(`${this.baseURL}/list`)}getAvarieById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addAvarie(t){return this.httpClient.post(`${this.baseURL}`,t)}updateAvarie(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,S)}deleteAvarie(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),un=(()=>{class r{constructor(t,n,o){this.avarieService=t,this.produitService=n,this.router=o,this.produits=[],this.avarieDto=new S}ngOnInit(){this.getProduits()}saveAvarie(){this.avarieService.addAvarie(this.avarieDto).subscribe(t=>{console.log(t),this.goToavarieList()},t=>console.log(t))}goToavarieList(){this.router.navigate(["admin/listavarie"])}onSubmit(){console.log(this.avarieDto),this.saveAvarie()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(re),e.Y36(b.d),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-avarie"]],decls:0,vars:0,template:function(t,n){}}),r})();const cn=["content"];function dn(r,i){if(1&r&&(e.TgZ(0,"h5",53),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function gn(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",54),e._UZ(13,"i",55),e._uU(14," Modifier "),e.qZA(),e.TgZ(15,"a",56),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteAvarie(a.id))}),e._UZ(16,"i",52),e._uU(17," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.produitDto.nom),e.xp6(2),e.Oqu(t.produitDto.codeproduit),e.xp6(2),e.Oqu(t.motif),e.xp6(2),e.Oqu(t.date),e.xp6(2),e.MGl("routerLink","/admin/update-avarie/",t.id,"")}}function pn(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",33)(1,"a",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let mn=(()=>{class r{constructor(t){this.avarieService=t,this.avarieDtos=[],this.avarieDto=new S,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredAvaries=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllAvarieDtos()}delete(){this.avarieService.deleteAvarie(this.avarieDto.id).subscribe(t=>{this.showSuccessMessage("Avarie"+this.avarieDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllAvarieDtos(),this.avarieDto=new S})}deleteAvarie(t){this.avarieService.deleteAvarie(t).subscribe(n=>{console.log(n),this.getAllAvarieDtos()})}ngOnInit(){this.getAllAvarieDtos(),this.filteredData()}getAllAvarieDtos(){var t=this;return(0,d.Z)(function*(){yield t.avarieService.getAvaries().subscribe(n=>{t.avarieDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.motif.localeCompare(n.motif)),this.datas.sort((t,n)=>t.produitDto.codeproduit.localeCompare(n.produitDto.codeproduit))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterAvarieLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.avarieDtos.filter(n=>n.motif.toLowerCase().includes(t.searchText.toLowerCase())):t.avarieDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredAvaries=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(re))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-avarie"]],viewQuery:function(t,n){if(1&t&&e.Gf(cn,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:96,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-avarie",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","datecommande"],["value","quantite"],["value","motif"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,dn,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des avaries"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Date"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"Quantite"),e.qZA(),e.TgZ(35,"option",24),e._uU(36,"Motif"),e.qZA()()(),e.TgZ(37,"div",25)(38,"label",26),e._UZ(39,"i",27),e.qZA(),e.TgZ(40,"input",28),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterAvarieLists()}),e.qZA()()(),e.TgZ(41,"table",29,30)(43,"thead")(44,"tr")(45,"th"),e._uU(46,"#"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Nom"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Code Produit"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Motif"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Date"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Actions"),e.qZA()()(),e.TgZ(57,"tbody"),e.YNc(58,gn,18,6,"tr",31),e.qZA()(),e.TgZ(59,"div",0)(60,"nav")(61,"ul",32)(62,"li",33)(63,"a",34),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(64,"span",35),e._uU(65,"\xab"),e.qZA()()(),e.TgZ(66,"li",33)(67,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(68,"span",35),e._uU(69,"\u2039"),e.qZA()()(),e.YNc(70,pn,3,3,"li",37),e.TgZ(71,"li",33)(72,"a",38),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(73,"span",35),e._uU(74,"\u203a"),e.qZA()()(),e.TgZ(75,"li",33)(76,"a",39),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(77,"span",35),e._uU(78,"\xbb"),e.qZA()()()()()()(),e.TgZ(79,"div",40)(80,"div",41)(81,"div",42)(82,"div",43)(83,"h1",44),e._uU(84," Suppression "),e.qZA(),e.TgZ(85,"button",45),e._UZ(86,"i",46),e.qZA()(),e.TgZ(87,"div",47),e._uU(88," Etes-vous sur de vouloir supprimer cette avarie ? "),e.qZA(),e.TgZ(89,"div",48)(90,"button",49),e._UZ(91,"i",50),e._uU(92," Annuler "),e.qZA(),e.TgZ(93,"button",51),e.NdJ("click",function(){return n.delete()}),e._UZ(94,"i",52),e._uU(95," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(14),e.Q6J("ngModel",n.searchText),e.xp6(18),e.Q6J("ngForOf",n.filteredAvaries),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})(),_n=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-avarie"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-avarie works!"),e.qZA())}}),r})(),fn=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-societe"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-societe works!"),e.qZA())}}),r})();class L{constructor(){this.id=0,this.nom="",this.adresse="",this.numerofiscal=""}}let R=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"societes"}getSocietes(){return this.httpClient.get(`${this.baseURL}/list`)}getSocieteById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addSociete(t){return this.httpClient.post(`${this.baseURL}`,t)}updateSociete(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,L)}deleteSociete(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const hn=["content"];function Zn(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function Tn(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",52),e._UZ(11,"i",53),e._uU(12," Modifier "),e.qZA(),e.TgZ(13,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteSociete(a))}),e._UZ(14,"i",50),e._uU(15," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.numerofiscal),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.adresse),e.xp6(2),e.MGl("routerLink","/admin/update-societe/",t.id,"")}}function bn(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let Cn=(()=>{class r{constructor(t){this.societeService=t,this.societeDtos=[],this.societeDto=new L,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredSocietes=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllSocieteDtos()}delete(){this.societeService.deleteSociete(this.societeDto.id).subscribe(t=>{this.showSuccessMessage("Societe"+this.societeDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllSocieteDtos(),this.societeDto=new L})}deleteSociete(t){this.societeDto=t,this.delete()}ngOnInit(){this.getAllSocieteDtos(),this.filteredData()}getAllSocieteDtos(){var t=this;return(0,d.Z)(function*(){yield t.societeService.getSocietes().subscribe(n=>{t.societeDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"nom"==this.filterBy?this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)):""==this.filterBy&&this.datas.sort((t,n)=>t.numerofiscal.localeCompare(n.numerofiscal)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterSocieteLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.societeDtos.filter(n=>n.numerofiscal.toLowerCase().includes(t.searchText.toLowerCase())||n.nom.toLowerCase().includes(t.searchText.toLowerCase())):t.societeDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredSocietes=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Societes.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(R))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-societe"]],viewQuery:function(t,n){if(1&t&&e.Gf(hn,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:90,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-societe",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","code"],["value","libelle"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Zn,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des societes"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Code"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Libelle"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterSocieteLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"numero fiscal"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Nom"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Adresse"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Actions"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,Tn,16,5,"tr",29),e.qZA()(),e.TgZ(53,"div",0)(54,"nav")(55,"ul",30)(56,"li",31)(57,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(58,"span",33),e._uU(59,"\xab"),e.qZA()()(),e.TgZ(60,"li",31)(61,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(62,"span",33),e._uU(63,"\u2039"),e.qZA()()(),e.YNc(64,bn,3,3,"li",35),e.TgZ(65,"li",31)(66,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(67,"span",33),e._uU(68,"\u203a"),e.qZA()()(),e.TgZ(69,"li",31)(70,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(71,"span",33),e._uU(72,"\xbb"),e.qZA()()()()()()(),e.TgZ(73,"div",38)(74,"div",39)(75,"div",40)(76,"div",41)(77,"h1",42),e._uU(78," Suppression "),e.qZA(),e.TgZ(79,"button",43),e._UZ(80,"i",44),e.qZA()(),e.TgZ(81,"div",45),e._uU(82," Etes-vous sur de vouloir supprimer cette societe ? "),e.qZA(),e.TgZ(83,"div",46)(84,"button",47),e._UZ(85,"i",48),e._uU(86," Annuler "),e.qZA(),e.TgZ(87,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(88,"i",50),e._uU(89," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(16),e.Q6J("ngForOf",n.filteredSocietes),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})();function An(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function vn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Pn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function qn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le adresse "),e.qZA())}function Un(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Mn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Dn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le numerofiscal "),e.qZA())}function kn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function xn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}const yn=function(){return["../list-societe"]},j=function(r){return{"is-invalid":r}};let Ln=(()=>{class r{constructor(t,n){this.societeService=t,this.router=n,this.societeDto=new L}ngOnInit(){}saveSociete(){this.societeService.addSociete(this.societeDto).subscribe(t=>{console.log(t),this.goTosocieteList()},t=>console.log(t))}goTosocieteList(){this.router.navigate(["admin/list-societe"])}onSubmit(){console.log(this.societeDto),this.saveSociete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(R),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-societe"]],decls:41,vars:23,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"col-md-4","mb-3"],["type","text","placeholder","nom du societe","name","nom","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","Adresse","name","adresse","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adresseVar","ngModel"],["type","text","placeholder","numerofiscal","name","numerofiscal","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["numerofiscalVar","ngModel"],[1,"text-right"],["type","submit",1,"btn","btn-info"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un Societe"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.TgZ(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.societeDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,An,2,0,"span",11),e.YNc(16,vn,2,0,"span",11),e.YNc(17,Pn,2,0,"span",11),e.qZA()(),e.TgZ(18,"div",6),e._UZ(19,"div",7),e.TgZ(20,"label"),e._uU(21,"Adresse"),e.qZA(),e.TgZ(22,"input",12,13),e.NdJ("ngModelChange",function(a){return n.societeDto.adresse=a}),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,qn,2,0,"span",11),e.YNc(26,Un,2,0,"span",11),e.YNc(27,Mn,2,0,"span",11),e.qZA()(),e.TgZ(28,"div",6),e._UZ(29,"div",7),e.TgZ(30,"label"),e._uU(31,"Numero fiscal"),e.qZA(),e.TgZ(32,"input",14,15),e.NdJ("ngModelChange",function(a){return n.societeDto.numerofiscal=a}),e.qZA(),e.TgZ(34,"div",10),e.YNc(35,Dn,2,0,"span",11),e.YNc(36,kn,2,0,"span",11),e.YNc(37,xn,2,0,"span",11),e.qZA()(),e.TgZ(38,"div",16)(39,"button",17),e._uU(40,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(13),a=e.MAs(23),l=e.MAs(33);e.xp6(4),e.Q6J("routerLink",e.DdM(16,yn)),e.xp6(8),e.Q6J("ngModel",n.societeDto.nom)("ngClass",e.VKq(17,j,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.societeDto.adresse)("ngClass",e.VKq(19,j,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.societeDto.numerofiscal)("ngClass",e.VKq(21,j,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.maxlength)}},dependencies:[u.mk,u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();class N{constructor(){this.id=0,this.code="",this.nom="",this.datedebut="",this.datedefin="",this.motif="",this.societeDto=new L}}let oe=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"contrats"}getContrats(){return this.httpClient.get(`${this.baseURL}/list`)}getContratById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addContrat(t){return this.httpClient.post(`${this.baseURL}`,t)}updateContrat(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,N)}deleteContrat(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Jn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non de reference du contrat "),e.qZA())}function Fn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Sn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Nn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le code "),e.qZA())}function wn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function In(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Qn(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucune cat\xe9gorie disponible"),e.qZA())}function On(r,i){if(1&r&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.nom)}}function En(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la date de debut "),e.qZA())}function Yn(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la date de fin "),e.qZA())}const Bn=function(){return["../list-contrat"]},w=function(r){return{"is-invalid":r}};let Rn=(()=>{class r{constructor(t,n,o,a){this.contratService=t,this.departementService=n,this.societeService=o,this.router=a,this.departements=[],this.societes=[],this.contratDto=new N}ngOnInit(){this.getSocietes()}saveContrat(){this.contratService.addContrat(this.contratDto).subscribe(t=>{console.log(t),this.goTocontratList()},t=>console.log(t))}goTocontratList(){this.router.navigate(["admin/list-contrat"])}onSubmit(){console.log(this.contratDto),this.saveContrat()}getSocietes(){this.societeService.getSocietes().subscribe(t=>{this.societes=t,console.log("Toutes les departemets: ",this.societes)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oe),e.Y36(v),e.Y36(R),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-contrat"]],decls:51,vars:29,consts:[[1,"card","col-md-4","offset-md-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","placeholder","nom de ref","name","nom","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","code du contrat","name","code","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["codeVar","ngModel"],[1,"form-label"],["name","societes","id","societes","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","date","placeholder","JJ/MM/AAAA","name","datedebut","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],["type","date","placeholder","JJ/MM/AAAA","name","datedefin","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3," Ajouter un Contrat"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.TgZ(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.contratDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,Jn,2,0,"span",11),e.YNc(16,Fn,2,0,"span",11),e.YNc(17,Sn,2,0,"span",11),e.qZA()(),e.TgZ(18,"div",6),e._UZ(19,"div",7),e.TgZ(20,"label"),e._uU(21,"code"),e.qZA(),e.TgZ(22,"input",12,13),e.NdJ("ngModelChange",function(a){return n.contratDto.code=a}),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,Nn,2,0,"span",11),e.YNc(26,wn,2,0,"span",11),e.YNc(27,In,2,0,"span",11),e.qZA()(),e.TgZ(28,"div",7)(29,"label",14),e._uU(30,"Societe"),e.qZA(),e.TgZ(31,"select",15),e.NdJ("ngModelChange",function(a){return n.contratDto.societeDto.id=a}),e.YNc(32,Qn,2,0,"option",11),e.YNc(33,On,2,2,"option",16),e.qZA()(),e.TgZ(34,"div",7)(35,"label"),e._uU(36,"Date de debut"),e.qZA(),e.TgZ(37,"input",17,18),e.NdJ("ngModelChange",function(a){return n.contratDto.datedebut=a}),e.qZA(),e.TgZ(39,"div",10),e.YNc(40,En,2,0,"span",11),e.qZA()(),e.TgZ(41,"div",7)(42,"label"),e._uU(43,"Date de debut "),e.qZA(),e.TgZ(44,"input",19,18),e.NdJ("ngModelChange",function(a){return n.contratDto.datedefin=a}),e.qZA(),e.TgZ(46,"div",10),e.YNc(47,Yn,2,0,"span",11),e.qZA()(),e.TgZ(48,"div",20)(49,"button",21),e._uU(50,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(13),a=e.MAs(23),l=e.MAs(38);e.xp6(4),e.Q6J("routerLink",e.DdM(20,Bn)),e.xp6(8),e.Q6J("ngModel",n.contratDto.nom)("ngClass",e.VKq(21,w,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.contratDto.code)("ngClass",e.VKq(23,w,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.contratDto.societeDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.societes&&n.societes.length)),e.xp6(1),e.Q6J("ngForOf",n.societes),e.xp6(4),e.Q6J("ngModel",n.contratDto.datedebut)("ngClass",e.VKq(25,w,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(4),e.Q6J("ngModel",n.contratDto.datedefin)("ngClass",e.VKq(27,w,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();const jn=["content"];function Vn(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function $n(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",52),e._UZ(15,"i",53),e._uU(16," Modifier "),e.qZA(),e.TgZ(17,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteContrat(a.id))}),e._UZ(18,"i",50),e._uU(19," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.societeDto.numerofiscal),e.xp6(2),e.Oqu(t.datedebut),e.xp6(2),e.Oqu(t.datedefin),e.xp6(2),e.MGl("routerLink","/admin/update-contrat/",t.id,"")}}function Gn(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let Kn=(()=>{class r{constructor(t){this.contratService=t,this.contratDtos=[],this.contratDto=new N,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredContrats=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllContratDtos()}delete(){this.contratService.deleteContrat(this.contratDto.id).subscribe(t=>{this.showSuccessMessage("Contrat"+this.contratDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllContratDtos(),this.contratDto=new N})}deleteContrat(t){this.contratService.deleteContrat(t).subscribe(n=>{console.log(n),this.getAllContratDtos()})}ngOnInit(){this.getAllContratDtos(),this.filteredData()}getAllContratDtos(){var t=this;return(0,d.Z)(function*(){yield t.contratService.getContrats().subscribe(n=>{t.contratDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.code.localeCompare(n.code)),this.datas.sort((t,n)=>t.nom.localeCompare(n.nom))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterContratLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.contratDtos.filter(n=>n.nom.toLowerCase().includes(t.searchText.toLowerCase())||n.code.toLowerCase().includes(t.searchText.toLowerCase())):t.contratDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredContrats=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oe))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-contrat"]],viewQuery:function(t,n){if(1&t&&e.Gf(jn,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:94,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-contrat",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Vn,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des contrats"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"code"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterContratLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Nom"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Numero fiscal de societe"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Date de debut"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Date de fin"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Actions"),e.qZA()()(),e.TgZ(55,"tbody"),e.YNc(56,$n,20,7,"tr",29),e.qZA()(),e.TgZ(57,"div",0)(58,"nav")(59,"ul",30)(60,"li",31)(61,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(62,"span",33),e._uU(63,"\xab"),e.qZA()()(),e.TgZ(64,"li",31)(65,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(66,"span",33),e._uU(67,"\u2039"),e.qZA()()(),e.YNc(68,Gn,3,3,"li",35),e.TgZ(69,"li",31)(70,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(71,"span",33),e._uU(72,"\u203a"),e.qZA()()(),e.TgZ(73,"li",31)(74,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(75,"span",33),e._uU(76,"\xbb"),e.qZA()()()()()()(),e.TgZ(77,"div",38)(78,"div",39)(79,"div",40)(80,"div",41)(81,"h1",42),e._uU(82," Suppression "),e.qZA(),e.TgZ(83,"button",43),e._UZ(84,"i",44),e.qZA()(),e.TgZ(85,"div",45),e._uU(86," Etes-vous sur de vouloir supprimer cette contrat ? "),e.qZA(),e.TgZ(87,"div",46)(88,"button",47),e._UZ(89,"i",48),e._uU(90," Annuler "),e.qZA(),e.TgZ(91,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(92,"i",50),e._uU(93," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(20),e.Q6J("ngForOf",n.filteredContrats),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})(),zn=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-contrat"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-contrat works!"),e.qZA())}}),r})(),Hn=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-personel"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-personel works!"),e.qZA())}}),r})();var J=m(2246);const Xn=["content"];function Wn(r,i){if(1&r&&(e.TgZ(0,"h5",52),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function er(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"a",53),e._UZ(19,"i",54),e._uU(20," Modifier "),e.qZA(),e.TgZ(21,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deletePersonel(a.id))}),e._UZ(22,"i",51),e._uU(23," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.prenom),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.sexe),e.xp6(2),e.Oqu(t.dateDeNaissance),e.xp6(2),e.Oqu(t.lieuDeNaissance),e.xp6(2),e.Oqu(t.numero),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.MGl("routerLink","/admin/update-personel/",t.id,"")}}function tr(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",32)(1,"a",56),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let nr=(()=>{class r{constructor(t){this.personelService=t,this.personelDtos=[],this.personelDto=new J.X,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredPersonels=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllPersonelDtos()}delete(){this.personelService.deletePersonel(this.personelDto.id).subscribe(t=>{this.showSuccessMessage("Personel"+this.personelDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllPersonelDtos(),this.personelDto=new J.X})}deletePersonel(t){this.personelService.deletePersonel(t).subscribe(n=>{console.log(n),this.getAllPersonelDtos()})}ngOnInit(){this.getAllPersonelDtos(),this.filteredData()}getAllPersonelDtos(){var t=this;return(0,d.Z)(function*(){yield t.personelService.getPersonels().subscribe(n=>{t.personelDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"nom"==this.filterBy&&(this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)),this.datas.sort((t,n)=>t.prenom.localeCompare(n.prenom)),this.datas.sort((t,n)=>t.dateDeNaissance.localeCompare(n.dateDeNaissance)),this.datas.sort((t,n)=>t.lieuDeNaissance.localeCompare(n.lieuDeNaissance))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterPersonelLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.personelDtos.filter(n=>n.nom.toLowerCase().includes(t.searchText.toLowerCase())||n.prenom.toLowerCase().includes(t.searchText.toLowerCase())||n.dateDeNaissance.toLowerCase().includes(t.searchText.toLowerCase())||n.lieuDeNaissance.toLowerCase().includes(t.searchText.toLowerCase())):t.personelDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredPersonels=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("l","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("personels.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(A._))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-personel"]],viewQuery:function(t,n){if(1&t&&e.Gf(Xn,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:100,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-personel",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","dateDeNaissance"],["value","lieuDeNaissance"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Wn,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des clients"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Date"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"lieu de naissancw"),e.qZA()()(),e.TgZ(35,"div",24)(36,"label",25),e._UZ(37,"i",26),e.qZA(),e.TgZ(38,"input",27),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterPersonelLists()}),e.qZA()()(),e.TgZ(39,"table",28,29)(41,"thead")(42,"tr")(43,"th"),e._uU(44,"#"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Prenom"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Nom"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Sexe"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Date de Naissance"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Lieu de Naissance"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Numero"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Email"),e.qZA(),e.TgZ(59,"th"),e._uU(60,"Actions"),e.qZA()()(),e.TgZ(61,"tbody"),e.YNc(62,er,24,9,"tr",30),e.qZA()(),e.TgZ(63,"div",0)(64,"nav")(65,"ul",31)(66,"li",32)(67,"a",33),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(68,"span",34),e._uU(69,"\xab"),e.qZA()()(),e.TgZ(70,"li",32)(71,"a",35),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(72,"span",34),e._uU(73,"\u2039"),e.qZA()()(),e.YNc(74,tr,3,3,"li",36),e.TgZ(75,"li",32)(76,"a",37),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(77,"span",34),e._uU(78,"\u203a"),e.qZA()()(),e.TgZ(79,"li",32)(80,"a",38),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(81,"span",34),e._uU(82,"\xbb"),e.qZA()()()()()()(),e.TgZ(83,"div",39)(84,"div",40)(85,"div",41)(86,"div",42)(87,"h1",43),e._uU(88," Suppression "),e.qZA(),e.TgZ(89,"button",44),e._UZ(90,"i",45),e.qZA()(),e.TgZ(91,"div",46),e._uU(92," Etes-vous sur de vouloir supprimer cette personel ? "),e.qZA(),e.TgZ(93,"div",47)(94,"button",48),e._UZ(95,"i",49),e._uU(96," Annuler "),e.qZA(),e.TgZ(97,"button",50),e.NdJ("click",function(){return n.delete()}),e._UZ(98,"i",51),e._uU(99," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(12),e.Q6J("ngModel",n.searchText),e.xp6(24),e.Q6J("ngForOf",n.filteredPersonels),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})();var V=m(6888);function rr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function or(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function ir(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function ar(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le prenom "),e.qZA())}function sr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function lr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function ur(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function cr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function dr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function gr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le lieuDeNaissance "),e.qZA())}function pr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function mr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function _r(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le email "),e.qZA())}function fr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function hr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Zr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le numero "),e.qZA())}function Tr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function br(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Cr(r,i){if(1&r&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.nom)}}const Ar=function(){return["../list-personel"]},q=function(r){return{"is-invalid":r}};let vr=(()=>{class r{constructor(t,n,o){this.personelService=t,this.roleService=n,this.router=o,this.roles=[],this.personelDto=new J.X}ngOnInit(){this.getRoles()}getRoles(){this.roleService.getRoles().subscribe(t=>{this.roles=t,console.log("Toutes les roles: ",this.roles)})}savePersonel(){this.personelService.addPersonel(this.personelDto).subscribe(t=>{console.log(t),this.goTopersonelList()},t=>console.log(t))}goTopersonelList(){this.router.navigate(["admin/list-personel"])}onSubmit(){console.log(this.personelDto),this.savePersonel()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(A._),e.Y36(V.N),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-personel"]],decls:87,vars:47,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"fw-bold","mt-0"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","placeholder","nom du personel","name","nom","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","prenom du personel","name","prenom","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prenomVar","ngModel"],["for","role"],["id","role","name","sexe",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["value",""],["value","feminin"],["value","masculin"],["type","date","placeholder","JJ/MM/AAAA","name","dateDeNaissance","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["dateDeNaissanceVar","ngModel"],["type","text","placeholder","lieu De Naissance du personel","name","lieuDeNaissance","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["lieuDeNaissanceVar","ngModel"],["type","email","placeholder","exemple@gmail.com","name","email","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["emailVar","ngModel"],["type","text","placeholder","77665398","name","numero","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["numeroVar","ngModel"],[1,"form-label"],["name","roles","id","roles","placeholder","selectionner",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"text-right"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un client "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e._UZ(6,"hr",4),e.TgZ(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(9,"div",7),e._UZ(10,"div",8),e.TgZ(11,"label"),e._uU(12,"Nom"),e.qZA(),e.TgZ(13,"input",9,10),e.NdJ("ngModelChange",function(a){return n.personelDto.nom=a}),e.qZA(),e.TgZ(15,"div",11),e.YNc(16,rr,2,0,"span",12),e.YNc(17,or,2,0,"span",12),e.YNc(18,ir,2,0,"span",12),e.qZA()(),e.TgZ(19,"div",7),e._UZ(20,"div",8),e.TgZ(21,"label"),e._uU(22,"Prenon"),e.qZA(),e.TgZ(23,"input",13,14),e.NdJ("ngModelChange",function(a){return n.personelDto.prenom=a}),e.qZA(),e.TgZ(25,"div",11),e.YNc(26,ar,2,0,"span",12),e.YNc(27,sr,2,0,"span",12),e.YNc(28,lr,2,0,"span",12),e.qZA()(),e.TgZ(29,"div",7)(30,"label",15),e._uU(31,"Sexe "),e.qZA(),e.TgZ(32,"select",16),e.NdJ("ngModelChange",function(a){return n.personelDto.sexe=a}),e.TgZ(33,"option",17),e._uU(34,"S\xe9lectionner"),e.qZA(),e.TgZ(35,"option",18),e._uU(36,"F"),e.qZA(),e.TgZ(37,"option",19),e._uU(38,"M"),e.qZA()()(),e.TgZ(39,"div",7),e._UZ(40,"div",8),e.TgZ(41,"label"),e._uU(42,"Date de naissance"),e.qZA(),e.TgZ(43,"input",20,21),e.NdJ("ngModelChange",function(a){return n.personelDto.dateDeNaissance=a}),e.qZA(),e.TgZ(45,"div",11),e.YNc(46,ur,2,0,"span",12),e.YNc(47,cr,2,0,"span",12),e.YNc(48,dr,2,0,"span",12),e.qZA()(),e.TgZ(49,"div",7),e._UZ(50,"div",8),e.TgZ(51,"label"),e._uU(52,"Lieu de naissance"),e.qZA(),e.TgZ(53,"input",22,23),e.NdJ("ngModelChange",function(a){return n.personelDto.lieuDeNaissance=a}),e.qZA(),e.TgZ(55,"div",11),e.YNc(56,gr,2,0,"span",12),e.YNc(57,pr,2,0,"span",12),e.YNc(58,mr,2,0,"span",12),e.qZA()(),e.TgZ(59,"div",7),e._UZ(60,"div",8),e.TgZ(61,"label"),e._uU(62,"E-mail"),e.qZA(),e.TgZ(63,"input",24,25),e.NdJ("ngModelChange",function(a){return n.personelDto.email=a}),e.qZA(),e.TgZ(65,"div",11),e.YNc(66,_r,2,0,"span",12),e.YNc(67,fr,2,0,"span",12),e.YNc(68,hr,2,0,"span",12),e.qZA()(),e.TgZ(69,"div",7),e._UZ(70,"div",8),e.TgZ(71,"label"),e._uU(72,"Numero de telephpone"),e.qZA(),e.TgZ(73,"input",26,27),e.NdJ("ngModelChange",function(a){return n.personelDto.numero=a}),e.qZA(),e.TgZ(75,"div",11),e.YNc(76,Zr,2,0,"span",12),e.YNc(77,Tr,2,0,"span",12),e.YNc(78,br,2,0,"span",12),e.qZA()(),e.TgZ(79,"div",8)(80,"label",28),e._uU(81," Role"),e.qZA(),e.TgZ(82,"select",29),e.NdJ("ngModelChange",function(a){return n.personelDto.roleDto.id=a}),e.YNc(83,Cr,2,2,"option",30),e.qZA()(),e.TgZ(84,"div",31)(85,"button",32),e._uU(86,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(14),a=e.MAs(24),l=e.MAs(44),g=e.MAs(54),p=e.MAs(64),C=e.MAs(74);e.xp6(4),e.Q6J("routerLink",e.DdM(34,Ar)),e.xp6(9),e.Q6J("ngModel",n.personelDto.nom)("ngClass",e.VKq(35,q,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.personelDto.prenom)("ngClass",e.VKq(37,q,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.personelDto.sexe),e.xp6(11),e.Q6J("ngModel",n.personelDto.dateDeNaissance)("ngClass",e.VKq(39,q,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.personelDto.lieuDeNaissance)("ngClass",e.VKq(41,q,g.touched&&!g.valid)),e.xp6(3),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.personelDto.email)("ngClass",e.VKq(43,q,p.touched&&!p.valid)),e.xp6(3),e.Q6J("ngIf",null==p.errors?null:p.errors.required),e.xp6(1),e.Q6J("ngIf",null==p.errors?null:p.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==p.errors?null:p.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.personelDto.numero)("ngClass",e.VKq(45,q,C.touched&&!C.valid)),e.xp6(3),e.Q6J("ngIf",null==C.errors?null:C.errors.required),e.xp6(1),e.Q6J("ngIf",null==C.errors?null:C.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==C.errors?null:C.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.personelDto.roleDto.id),e.xp6(1),e.Q6J("ngForOf",n.roles)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();class I{constructor(){this.id=0,this.quantite="",this.date="",this.prixAchat=0,this.produitDto=new T.I,this.personelDto=new J.X}}let $=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"mvtstks"}getStocks(){return this.httpClient.get(`${this.baseURL}/list`)}getStockById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addStock(t){return this.httpClient.post(`${this.baseURL}`,t)}reduireStock(t){return this.httpClient.post(`${this.baseURL}/reduire`,t)}updateStock(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteStock(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Pr(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucunproduit disponible"),e.qZA())}function qr(r,i){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.id)}}function Ur(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le prixAchat "),e.qZA())}function Mr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Dr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function kr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le quantite "),e.qZA())}function xr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function yr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Lr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la date "),e.qZA())}const Jr=function(){return["../list-stock"]},G=function(r){return{"is-invalid":r}};let Fr=(()=>{class r{constructor(t,n,o,a,l){this.stockService=t,this.produitService=n,this.personelService=o,this.bureauService=a,this.router=l,this.produits=[],this.bureaus=[],this.personels=[],this.stockDto=new I}ngOnInit(){this.getProduits(),this.getPersonels(),this.getBureaus()}savestock(){this.stockService.addStock(this.stockDto).subscribe(t=>{console.log(t),this.goTostockList()},t=>console.log(t))}goTostockList(){this.router.navigate(["admin/list-stock"])}onSubmit(){console.log(this.stockDto),this.savestock()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}getDeleteProduit(){this.produitService.deleteProduit(this.stockDto.produitDto.id).subscribe(t=>{})}getPersonels(){this.personelService.getPersonels().subscribe(t=>{this.personels=t,console.log("Toutes les personels : ",this.personels)})}getBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureaus=t,console.log("Toutes les bureaus : ",this.bureaus)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($),e.Y36(b.d),e.Y36(A._),e.Y36(Z.c),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-stock"]],decls:42,vars:24,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","produits","id","produits","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","prixAchat du stock","name","prixAchat","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prixAchatVar","ngModel"],[1,"invalid-feedback"],["type","number","placeholder","quantite","name","quantite","required","","minlength","1","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["quantiteVar","ngModel"],["type","date","placeholder","JJ/MM/AAAA","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un stock "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id produit"),e.qZA(),e.TgZ(11,"select",8),e.NdJ("ngModelChange",function(a){return n.stockDto.produitDto.id=a}),e.YNc(12,Pr,2,0,"option",9),e.YNc(13,qr,2,2,"option",10),e.qZA()(),e.TgZ(14,"div",6)(15,"label"),e._uU(16,"prixAchat"),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(a){return n.stockDto.prixAchat=a}),e.qZA(),e.TgZ(19,"div",13),e.YNc(20,Ur,2,0,"span",9),e.YNc(21,Mr,2,0,"span",9),e.YNc(22,Dr,2,0,"span",9),e.qZA()(),e.TgZ(23,"div",6)(24,"label"),e._uU(25,"Quantite"),e.qZA(),e.TgZ(26,"input",14,15),e.NdJ("ngModelChange",function(a){return n.stockDto.quantite=a}),e.qZA(),e.TgZ(28,"div",13),e.YNc(29,kr,2,0,"span",9),e.YNc(30,xr,2,0,"span",9),e.YNc(31,yr,2,0,"span",9),e.qZA()(),e.TgZ(32,"div",6)(33,"label"),e._uU(34,"Date "),e.qZA(),e.TgZ(35,"input",16,17),e.NdJ("ngModelChange",function(a){return n.stockDto.date=a}),e.qZA(),e.TgZ(37,"div",13),e.YNc(38,Lr,2,0,"span",9),e.qZA()(),e.TgZ(39,"div",18)(40,"button",19),e._uU(41,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(18),a=e.MAs(27),l=e.MAs(36);e.xp6(4),e.Q6J("routerLink",e.DdM(17,Jr)),e.xp6(7),e.Q6J("ngModel",n.stockDto.produitDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.produits&&n.produits.length)),e.xp6(1),e.Q6J("ngForOf",n.produits),e.xp6(4),e.Q6J("ngModel",n.stockDto.prixAchat)("ngClass",e.VKq(18,G,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.stockDto.quantite)("ngClass",e.VKq(20,G,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.stockDto.date)("ngClass",e.VKq(22,G,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();const Sr=["content"];function Nr(r,i){if(1&r&&(e.TgZ(0,"h5",52),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function wr(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e._UZ(13,"td"),e.qZA()),2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.date),e.xp6(2),e.Oqu(t.produitDto.nom),e.xp6(2),e.Oqu(t.produitDto.prixAchat),e.xp6(2),e.Oqu(t.quantite),e.xp6(2),e.Oqu(t.produitDto.quantite)}}function Ir(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",33)(1,"a",53),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let Qr=(()=>{class r{constructor(t){this.stockService=t,this.stockDtos=[],this.stockDto=new I,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredStocks=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllStockDtos()}delete(){this.stockService.deleteStock(this.stockDto.id).subscribe(t=>{this.showSuccessMessage("Stock"+this.stockDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllStockDtos(),this.stockDto=new I})}deleteStock(t){this.stockService.deleteStock(t).subscribe(n=>{console.log(n),this.getAllStockDtos()})}ngOnInit(){this.getAllStockDtos(),this.filteredData()}getAllStockDtos(){var t=this;return(0,d.Z)(function*(){yield t.stockService.getStocks().subscribe(n=>{t.stockDtos=n,console.log("Toutes les stocks via data: ",n),console.log("Toutes les stocks: ",t.stockDtos),t.datas=n,console.log("Toutes les stocks via datas: ",t.datas),t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"prenom"==this.filterBy&&this.datas.sort((t,n)=>t.personelDto.prenom.localeCompare(n.personelDto.prenom)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterStockLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.stockDtos.filter(n=>n.personelDto.prenom.toLowerCase().includes(t.searchText.toLowerCase())):t.stockDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredStocks=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("stocks.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-stock"]],viewQuery:function(t,n){if(1&t&&e.Gf(Sr,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:98,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-stock",1,"btn","btn-primary"],[1,"fa","fa-plus"],["routerLink","/admin/reduire-stock",1,"btn","btn-primary"],[1,"fa","fa-trash"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nombureau"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],["role","alert"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Nr,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des stocks"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()(),e.TgZ(14,"div",6)(15,"a",10),e._UZ(16,"i",11),e._uU(17," Reduire "),e.qZA()()(),e._UZ(18,"hr"),e.TgZ(19,"div",12)(20,"div",13)(21,"div",14)(22,"label",15),e._UZ(23,"i",16),e._uU(24," Afficher "),e.qZA(),e.TgZ(25,"input",17),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(26," par page "),e.qZA(),e.TgZ(27,"div",18)(28,"label",19),e._UZ(29,"i",20),e.qZA(),e.TgZ(30,"select",21),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(31,"option",22),e._uU(32,"Filtrer par"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"Bureau"),e.qZA(),e.TgZ(35,"option",24),e._uU(36,"prenom"),e.qZA()()(),e.TgZ(37,"div",25)(38,"label",26),e._UZ(39,"i",27),e.qZA(),e.TgZ(40,"input",28),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterStockLists()}),e.qZA()()(),e.TgZ(41,"table",29,30)(43,"thead")(44,"tr")(45,"th"),e._uU(46,"#"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Date"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"produit"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"prix achat"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"quantite Ajouter"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"quantite Total"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Actions"),e.qZA()()(),e.TgZ(59,"tbody"),e.YNc(60,wr,14,6,"tr",31),e.qZA()(),e.TgZ(61,"div",0)(62,"nav")(63,"ul",32)(64,"li",33)(65,"a",34),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(66,"span",35),e._uU(67,"\xab"),e.qZA()()(),e.TgZ(68,"li",33)(69,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(70,"span",35),e._uU(71,"\u2039"),e.qZA()()(),e.YNc(72,Ir,3,3,"li",37),e.TgZ(73,"li",33)(74,"a",38),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(75,"span",35),e._uU(76,"\u203a"),e.qZA()()(),e.TgZ(77,"li",33)(78,"a",39),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(79,"span",35),e._uU(80,"\xbb"),e.qZA()()()()()()(),e.TgZ(81,"div",40)(82,"div",41)(83,"div",42)(84,"div",43)(85,"h1",44),e._uU(86," Suppression "),e.qZA(),e.TgZ(87,"button",45),e._UZ(88,"i",46),e.qZA()(),e.TgZ(89,"div",47),e._uU(90," Etes-vous sur de vouloir supprimer cette stock ? "),e.qZA(),e.TgZ(91,"div",48)(92,"button",49),e._UZ(93,"i",50),e._uU(94," Annuler "),e.qZA(),e.TgZ(95,"button",51),e.NdJ("click",function(){return n.delete()}),e._UZ(96,"i",11),e._uU(97," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(24),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(20),e.Q6J("ngForOf",n.filteredStocks),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})(),Or=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-stock"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-stock works!"),e.qZA())}}),r})();var U=m(2197);function Er(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le nom de votre d\xe9partement "),e.qZA())}function Yr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Br(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Rr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le code unique de votre d\xe9partement "),e.qZA())}function jr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Vr(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function $r(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la date de cr\xe9ation du d\xe9partement "),e.qZA())}const Gr=function(){return["../list-departement"]},K=function(r){return{"is-invalid":r}};let Kr=(()=>{class r{constructor(t,n){this.departementService=t,this.router=n,this.departementDto=new U.o}ngOnInit(){}saveDepartement(){this.departementService.addDepartement(this.departementDto).subscribe(t=>{console.log(t),this.goTodepartementList()},t=>console.log(t))}goTodepartementList(){this.router.navigate(["admin/list-departement"])}onSubmit(){console.log(this.departementDto),this.saveDepartement()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-departement"]],decls:37,vars:21,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","placeholder","Nom du departement","name","nom","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","Code de votre departement","name","code","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["codeVar","ngModel"],["type","date","placeholder","JJ/MM/AAAA","name","createdAt","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Cr\xe9er un d\xe9partement "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"div",7)(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.departementDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,Er,2,0,"span",11),e.YNc(16,Yr,2,0,"span",11),e.YNc(17,Br,2,0,"span",11),e.qZA()(),e.TgZ(18,"div",7)(19,"label"),e._uU(20,"Code"),e.qZA(),e.TgZ(21,"input",12,13),e.NdJ("ngModelChange",function(a){return n.departementDto.code=a}),e.qZA(),e.TgZ(23,"div",10),e.YNc(24,Rr,2,0,"span",11),e.YNc(25,jr,2,0,"span",11),e.YNc(26,Vr,2,0,"span",11),e.qZA()(),e.TgZ(27,"div",7)(28,"label"),e._uU(29,"Date de cr\xe9ation"),e.qZA(),e.TgZ(30,"input",14,15),e.NdJ("ngModelChange",function(a){return n.departementDto.createdAt=a}),e.qZA(),e.TgZ(32,"div",10),e.YNc(33,$r,2,0,"span",11),e.qZA()()(),e.TgZ(34,"div",16)(35,"button",17),e._uU(36,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(13),a=e.MAs(22),l=e.MAs(31);e.xp6(4),e.Q6J("routerLink",e.DdM(14,Gr)),e.xp6(8),e.Q6J("ngModel",n.departementDto.nom)("ngClass",e.VKq(15,K,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.departementDto.code)("ngClass",e.VKq(17,K,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.departementDto.createdAt)("ngClass",e.VKq(19,K,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required)}},dependencies:[u.mk,u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();const zr=["content"];function Hr(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function Xr(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",52),e._UZ(9,"i",53),e._uU(10," Modifier "),e.qZA(),e.TgZ(11,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteDepartement(a.id))}),e._UZ(12,"i",50),e._uU(13," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.MGl("routerLink","/admin/update-departement/",t.id,"")}}function Wr(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let eo=(()=>{class r{constructor(t){this.departementService=t,this.departementDtos=[],this.departementDto=new U.o,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredDepartements=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllDepartementDtos()}delete(){this.departementService.deleteDepartement(this.departementDto.id).subscribe(t=>{this.showSuccessMessage("Departement"+this.departementDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllDepartementDtos(),this.departementDto=new U.o})}deleteDepartement(t){this.departementService.deleteDepartement(t).subscribe(n=>{console.log(n),this.getAllDepartementDtos()})}ngOnInit(){this.getAllDepartementDtos(),this.filteredData()}getAllDepartementDtos(){var t=this;return(0,d.Z)(function*(){yield t.departementService.getDepartements().subscribe(n=>{t.departementDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"code"==this.filterBy?this.datas.sort((t,n)=>t.code.localeCompare(n.code)):"libelle"==this.filterBy&&this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterDepartementLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.departementDtos.filter(n=>n.code.toLowerCase().includes(t.searchText.toLowerCase())||n.nom.toLowerCase().includes(t.searchText.toLowerCase())):t.departementDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredDepartements=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Departements.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-departement"]],viewQuery:function(t,n){if(1&t&&e.Gf(zr,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:88,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-departement",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","code"],["value","libelle"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Hr,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des departements"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Code"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Libelle"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterDepartementLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Libelle"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Actions"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,Xr,14,4,"tr",29),e.qZA()(),e.TgZ(51,"div",0)(52,"nav")(53,"ul",30)(54,"li",31)(55,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(56,"span",33),e._uU(57,"\xab"),e.qZA()()(),e.TgZ(58,"li",31)(59,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(60,"span",33),e._uU(61,"\u2039"),e.qZA()()(),e.YNc(62,Wr,3,3,"li",35),e.TgZ(63,"li",31)(64,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(65,"span",33),e._uU(66,"\u203a"),e.qZA()()(),e.TgZ(67,"li",31)(68,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(69,"span",33),e._uU(70,"\xbb"),e.qZA()()()()()()(),e.TgZ(71,"div",38)(72,"div",39)(73,"div",40)(74,"div",41)(75,"h1",42),e._uU(76," Suppression "),e.qZA(),e.TgZ(77,"button",43),e._UZ(78,"i",44),e.qZA()(),e.TgZ(79,"div",45),e._uU(80," Etes-vous sur de vouloir supprimer cette departement ? "),e.qZA(),e.TgZ(81,"div",46)(82,"button",47),e._UZ(83,"i",48),e._uU(84," Annuler "),e.qZA(),e.TgZ(85,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(86,"i",50),e._uU(87," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(14),e.Q6J("ngForOf",n.filteredDepartements),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})();function to(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Gre("text-center ",t.style,""),e.xp6(1),e.Oqu(t.message)}}let no=(()=>{class r{constructor(t,n,o,a,l){this.formBuilder=t,this.departementService=n,this.bureauService=o,this.router=a,this.route=l,this.departementDto=new U.o,this.idDepartement=0,this.bureauDtos=[],this.formSubmitAttempt=!1,this.formDepartement=this.formBuilder.group({code:[null,s.kI.required],nom:[null,s.kI.required]}),this.idDepartement=this.router.snapshot.params.id,this.getDepartement(this.idDepartement),this.getAllBureaus()}ngOnInit(){throw new Error("Method not implemented.")}submitForm(){this.formSubmitAttempt=!0,this.updateDepartement(this.departementDto),this.getAllBureaus()}updateDepartement(t){this.formDepartement.valid?this.departementService.updateDepartement(t.id,t).subscribe(n=>{this.departementDto=n,this.showSuccessMessage("Departement enr\xe9gistr\xe9 avec succ\xe8s"),this.formDepartement.reset(),this.formSubmitAttempt=!1},n=>{console.error("Error updating departement:",n)}):this.showErrorMessage("Verifiez vos donn\xe9es et renseignez les champs obligatoire avec un *")}getDepartement(t){this.departementService.getDepartementById(t).subscribe(n=>{this.departementDto=n})}showSuccessMessage(t){this.message="Op\xe9ration r\xe9ussie !\n "+t,this.style="alert alert-success",setTimeout(()=>{this.message=""},5e3),this.route.navigate(["/admin/listdepartement"])}showErrorMessage(t){this.message="Oops un probleme est survenu. Op\xe9ration \xe9chou\xe9e !\n "+t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}getAllBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureauDtos=t})}isFieldValid(t){return!this.formDepartement.get(t).valid&&this.formDepartement.get(t).touched||this.formDepartement.get(t).untouched&&this.formSubmitAttempt}displayFieldCss(t){return{"has-error":this.isFieldValid(t),"has-feedback":this.isFieldValid(t)}}validateAllFormFields(t){Object.keys(t.controls).forEach(n=>{const o=t.get(n);o instanceof s.NI?o.markAsTouched({onlySelf:!0}):o instanceof s.cw&&this.validateAllFormFields(o)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.qu),e.Y36(v),e.Y36(Z.c),e.Y36(c.gz),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-departement"]],decls:24,vars:7,consts:[[1,"container","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[3,"class",4,"ngIf"],[1,"card","col-6","p-2"],[1,"card-header","text-center","p-2","bg-info"],[1,"card-content"],[1,"form-group"],["for","code"],["type","text","autofocus","","id","code","formControlName","code",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le code du d\xe9partement",3,"displayError"],["for","nom"],["type","text","id","nom","formControlName","nom",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le nom du d\xe9partement",3,"displayError"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","col-4","mx-auto",3,"disabled"],[1,"fa","fa-edit"],["routerLink","/admin/list-departement",1,"btn","btn-danger","col-4","mx-auto"],[1,"fa","fa-arrow-left"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.YNc(2,to,2,4,"div",2),e.TgZ(3,"div",3)(4,"h5",4),e._uU(5,"Formulaire de modification de departements"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Code"),e.qZA(),e.TgZ(10,"input",8),e.NdJ("ngModelChange",function(a){return n.departementDto.code=a}),e.qZA(),e._UZ(11,"app-field-error-display",9),e.qZA(),e.TgZ(12,"div",6)(13,"label",10),e._uU(14,"nom"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(a){return n.departementDto.nom=a}),e.qZA(),e._UZ(16,"app-field-error-display",12),e.qZA()(),e.TgZ(17,"div",13)(18,"button",14),e._UZ(19,"i",15),e._uU(20," Modifier "),e.qZA(),e.TgZ(21,"button",16),e._UZ(22,"i",17),e._uU(23," Annuler "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.formDepartement),e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(8),e.Q6J("ngModel",n.departementDto.code),e.xp6(1),e.Q6J("displayError",n.isFieldValid("code")),e.xp6(4),e.Q6J("ngModel",n.departementDto.nom),e.xp6(1),e.Q6J("displayError",n.isFieldValid("nom")),e.xp6(2),e.Q6J("disabled",!n.formDepartement.valid))},dependencies:[u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,D]}),r})(),ie=(()=>{class r{constructor(t,n){this.route=t,this.departementService=n,this.departementDto=new U.o}ngOnInit(){this.id=this.route.snapshot.params.id,this.departementDto=new U.o,this.departementService.getDepartementById(this.id).subscribe(t=>{this.departementDto=t})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.gz),e.Y36(v))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-detail-departement"]],decls:23,vars:3,consts:[[1,"departement-details"],[1,""],[1,"data-value"],[1,"departement-info"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"D\xe9tails du d\xe9partement"),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"i",1),e.TgZ(5,"label")(6,"b"),e._uU(7,"ID:"),e.qZA()(),e.TgZ(8,"span",2),e._uU(9),e.qZA()(),e.TgZ(10,"div",3),e._UZ(11,"i",1),e.TgZ(12,"label")(13,"b"),e._uU(14,"Code:"),e.qZA()(),e.TgZ(15,"span",2),e._uU(16),e.qZA()(),e.TgZ(17,"div",3),e._UZ(18,"i",1),e.TgZ(19,"label"),e._uU(20,"Nom du d\xe9partement:"),e.qZA(),e.TgZ(21,"span",2),e._uU(22),e.qZA()()()),2&t&&(e.xp6(9),e.Oqu(n.departementDto.id),e.xp6(7),e.Oqu(n.departementDto.code),e.xp6(6),e.Oqu(n.departementDto.nom))},styles:[".departement-details[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #ddd;padding:20px;margin-bottom:20px}.departement-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:15px}.departement-details[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#666}.departement-details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}.departement-details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;color:#4285f4}.departement-details[_ngcontent-%COMP%]   .id-icon[_ngcontent-%COMP%]{font-size:18px}.departement-details[_ngcontent-%COMP%]   .code-icon[_ngcontent-%COMP%]{font-size:16px}.departement-details[_ngcontent-%COMP%]   .name-icon[_ngcontent-%COMP%]{font-size:20px}.departement-details[_ngcontent-%COMP%]   .data-value[_ngcontent-%COMP%]{color:#444}"]}),r})();class Q{constructor(){this.id=0,this.date="",this.motif="",this.produitDto=new T.I}}let z=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"reparations"}getReparations(){return this.httpClient.get(`${this.baseURL}/list`)}getReparationById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addReparation(t){return this.httpClient.post(`${this.baseURL}`,t)}updateReparation(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteReparation(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ro(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucunproduit disponible"),e.qZA())}function oo(r,i){if(1&r&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.AsE("id:",t.id,"=>",t.nom,"")}}function io(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le motif "),e.qZA())}function ao(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function so(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function lo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la date "),e.qZA())}const uo=function(){return["../list-reparation"]},ae=function(r){return{"is-invalid":r}};let co=(()=>{class r{constructor(t,n,o,a,l){this.reparationService=t,this.produitService=n,this.personelService=o,this.bureauService=a,this.router=l,this.produits=[],this.bureaus=[],this.personels=[],this.reparationDto=new Q}ngOnInit(){this.getProduits(),this.getPersonels(),this.getBureaus()}savereparation(){this.reparationService.addReparation(this.reparationDto).subscribe(t=>{console.log(t),this.goToreparationList()},t=>console.log(t))}goToreparationList(){this.router.navigate(["admin/list-reparation"])}onSubmit(){console.log(this.reparationDto),this.savereparation(),this.getDeleteProduit()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}getDeleteProduit(){this.produitService.deleteProduit(this.reparationDto.produitDto.id).subscribe(t=>{})}getPersonels(){this.personelService.getPersonels().subscribe(t=>{this.personels=t,console.log("Toutes les personels : ",this.personels)})}getBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureaus=t,console.log("Toutes les bureaus : ",this.bureaus)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(z),e.Y36(b.d),e.Y36(A._),e.Y36(Z.c),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-reparation"]],decls:33,vars:17,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","produits","id","produits","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","motif du reparation","name","motif","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["motifVar","ngModel"],[1,"invalid-feedback"],["type","date","placeholder","JJ/MM/AAAA","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter une reparation "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id du materiel"),e.qZA(),e.TgZ(11,"select",8),e.NdJ("ngModelChange",function(a){return n.reparationDto.produitDto.id=a}),e.YNc(12,ro,2,0,"option",9),e.YNc(13,oo,2,3,"option",10),e.qZA()(),e.TgZ(14,"div",6)(15,"label"),e._uU(16,"Motif"),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(a){return n.reparationDto.motif=a}),e.qZA(),e.TgZ(19,"div",13),e.YNc(20,io,2,0,"span",9),e.YNc(21,ao,2,0,"span",9),e.YNc(22,so,2,0,"span",9),e.qZA()(),e.TgZ(23,"div",6)(24,"label"),e._uU(25,"Date "),e.qZA(),e.TgZ(26,"input",14,15),e.NdJ("ngModelChange",function(a){return n.reparationDto.date=a}),e.qZA(),e.TgZ(28,"div",13),e.YNc(29,lo,2,0,"span",9),e.qZA()(),e.TgZ(30,"div",16)(31,"button",17),e._uU(32,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(18),a=e.MAs(27);e.xp6(4),e.Q6J("routerLink",e.DdM(12,uo)),e.xp6(7),e.Q6J("ngModel",n.reparationDto.produitDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.produits&&n.produits.length)),e.xp6(1),e.Q6J("ngForOf",n.produits),e.xp6(4),e.Q6J("ngModel",n.reparationDto.motif)("ngClass",e.VKq(13,ae,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.reparationDto.date)("ngClass",e.VKq(15,ae,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();const go=["content"];function po(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function mo(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",52),e._UZ(9,"i",53),e._uU(10," Modifier "),e.qZA(),e.TgZ(11,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteReparation(a.id))}),e._UZ(12,"i",50),e._uU(13," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.motif),e.xp6(2),e.MGl("routerLink","/admin/update-reparation/",t.id,"")}}function _o(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let fo=(()=>{class r{constructor(t){this.reparationService=t,this.reparationDtos=[],this.reparationDto=new Q,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredReparations=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllReparationDtos()}delete(){this.reparationService.deleteReparation(this.reparationDto.id).subscribe(t=>{this.showSuccessMessage("Reparation"+this.reparationDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllReparationDtos(),this.reparationDto=new Q})}deleteReparation(t){this.reparationService.deleteReparation(t).subscribe(n=>{console.log(n),this.getAllReparationDtos()})}ngOnInit(){this.getAllReparationDtos(),this.filteredData()}getAllReparationDtos(){var t=this;return(0,d.Z)(function*(){yield t.reparationService.getReparations().subscribe(n=>{t.reparationDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.motif.localeCompare(n.motif)),this.datas.sort((t,n)=>t.produitDto.codeproduit.localeCompare(n.produitDto.codeproduit))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterReparationLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.reparationDtos.filter(n=>n.motif.toLowerCase().includes(t.searchText.toLowerCase())):t.reparationDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredReparations=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("reparations.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-reparation"]],viewQuery:function(t,n){if(1&t&&e.Gf(go,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:88,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-reparation",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","code"],["value","libelle"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,po,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des reparations"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Code"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Libelle"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterReparationLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Nom"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Actions"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,mo,14,4,"tr",29),e.qZA()(),e.TgZ(51,"div",0)(52,"nav")(53,"ul",30)(54,"li",31)(55,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(56,"span",33),e._uU(57,"\xab"),e.qZA()()(),e.TgZ(58,"li",31)(59,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(60,"span",33),e._uU(61,"\u2039"),e.qZA()()(),e.YNc(62,_o,3,3,"li",35),e.TgZ(63,"li",31)(64,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(65,"span",33),e._uU(66,"\u203a"),e.qZA()()(),e.TgZ(67,"li",31)(68,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(69,"span",33),e._uU(70,"\xbb"),e.qZA()()()()()()(),e.TgZ(71,"div",38)(72,"div",39)(73,"div",40)(74,"div",41)(75,"h1",42),e._uU(76," Suppression "),e.qZA(),e.TgZ(77,"button",43),e._UZ(78,"i",44),e.qZA()(),e.TgZ(79,"div",45),e._uU(80," Etes-vous sur de vouloir supprimer cette reparation ? "),e.qZA(),e.TgZ(81,"div",46)(82,"button",47),e._UZ(83,"i",48),e._uU(84," Annuler "),e.qZA(),e.TgZ(85,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(86,"i",50),e._uU(87," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(14),e.Q6J("ngForOf",n.filteredReparations),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})();function ho(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Gre("text-center ",t.style,""),e.xp6(1),e.Oqu(t.message)}}let Zo=(()=>{class r{constructor(t,n,o,a,l){this.formBuilder=t,this.reparationService=n,this.bureauService=o,this.router=a,this.route=l,this.reparationDto=new Q,this.idReparation=0,this.bureauDtos=[],this.formSubmitAttempt=!1,this.formReparation=this.formBuilder.group({code:[null,s.kI.required],nom:[null,s.kI.required]}),this.idReparation=this.router.snapshot.params.id,this.getReparation(this.idReparation),this.getAllBureaus()}ngOnInit(){throw new Error("Method not implemented.")}submitForm(){this.formSubmitAttempt=!0,this.updateReparation(this.reparationDto),this.getAllBureaus()}updateReparation(t){this.formReparation.valid?this.reparationService.updateReparation(t.id,t).subscribe(n=>{this.reparationDto=n,this.showSuccessMessage("Reparation enr\xe9gistr\xe9 avec succ\xe8s"),this.formReparation.reset(),this.formSubmitAttempt=!1},n=>{console.error("Error updating reparation:",n)}):this.showErrorMessage("Verifiez vos donn\xe9es et renseignez les champs obligatoire avec un *")}getReparation(t){this.reparationService.getReparationById(t).subscribe(n=>{this.reparationDto=n})}showSuccessMessage(t){this.message="Op\xe9ration r\xe9ussie !\n "+t,this.style="alert alert-success",setTimeout(()=>{this.message=""},5e3),this.route.navigate(["/admin/listreparation"])}showErrorMessage(t){this.message="Oops un probleme est survenu. Op\xe9ration \xe9chou\xe9e !\n "+t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}getAllBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureauDtos=t})}isFieldValid(t){return!this.formReparation.get(t).valid&&this.formReparation.get(t).touched||this.formReparation.get(t).untouched&&this.formSubmitAttempt}displayFieldCss(t){return{"has-error":this.isFieldValid(t),"has-feedback":this.isFieldValid(t)}}validateAllFormFields(t){Object.keys(t.controls).forEach(n=>{const o=t.get(n);o instanceof s.NI?o.markAsTouched({onlySelf:!0}):o instanceof s.cw&&this.validateAllFormFields(o)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.qu),e.Y36(z),e.Y36(Z.c),e.Y36(c.gz),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-reparation"]],decls:24,vars:7,consts:[[1,"container","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[3,"class",4,"ngIf"],[1,"card","col-6","p-2"],[1,"card-header","text-center","p-2","bg-info"],[1,"card-content"],[1,"form-group"],["for","code"],["type","text","autofocus","","id","code","formControlName","code",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le code du d\xe9partement",3,"displayError"],["for","nom"],["type","text","id","nom","formControlName","nom",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le nom du d\xe9partement",3,"displayError"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","col-4","mx-auto",3,"disabled"],[1,"fa","fa-edit"],["routerLink","/admin/list-reparation",1,"btn","btn-danger","col-4","mx-auto"],[1,"fa","fa-arrow-left"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.YNc(2,ho,2,4,"div",2),e.TgZ(3,"div",3)(4,"h5",4),e._uU(5,"Formulaire de modification de reparations"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Code"),e.qZA(),e.TgZ(10,"input",8),e.NdJ("ngModelChange",function(a){return n.reparationDto.motif=a}),e.qZA(),e._UZ(11,"app-field-error-display",9),e.qZA(),e.TgZ(12,"div",6)(13,"label",10),e._uU(14,"nom"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(a){return n.reparationDto.date=a}),e.qZA(),e._UZ(16,"app-field-error-display",12),e.qZA()(),e.TgZ(17,"div",13)(18,"button",14),e._UZ(19,"i",15),e._uU(20," Modifier "),e.qZA(),e.TgZ(21,"button",16),e._UZ(22,"i",17),e._uU(23," Annuler "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.formReparation),e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(8),e.Q6J("ngModel",n.reparationDto.motif),e.xp6(1),e.Q6J("displayError",n.isFieldValid("code")),e.xp6(4),e.Q6J("ngModel",n.reparationDto.date),e.xp6(1),e.Q6J("displayError",n.isFieldValid("nom")),e.xp6(2),e.Q6J("disabled",!n.formReparation.valid))},dependencies:[u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,D]}),r})();var se=m(2064),le=m(3071);function To(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function bo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Co(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Ao(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le adresse "),e.qZA())}function vo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Po(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}const qo=function(){return["../list-user"]},ue=function(r){return{"is-invalid":r}};let Uo=(()=>{class r{constructor(t,n){this.userService=t,this.router=n,this.user=new se.n}ngOnInit(){}saveUser(){this.userService.addUser(this.user).subscribe(t=>{console.log(t),this.goTouserList()},t=>console.log(t))}goTouserList(){this.router.navigate(["admin/list-user"])}onSubmit(){console.log(this.user),this.saveUser()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(le.K),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-user"]],decls:31,vars:16,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"col-md-4","mb-3"],["type","text","placeholder","id du user","name","id","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["idVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","Adresse","name","adresse","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adresseVar","ngModel"],[1,"text-right"],["type","submit",1,"btn","btn-info"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un User"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.TgZ(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.user.userId=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,To,2,0,"span",11),e.YNc(16,bo,2,0,"span",11),e.YNc(17,Co,2,0,"span",11),e.qZA()(),e.TgZ(18,"div",6),e._UZ(19,"div",7),e.TgZ(20,"label"),e._uU(21,"Role"),e.qZA(),e.TgZ(22,"input",12,13),e.NdJ("ngModelChange",function(a){return n.user.User_role=a}),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,Ao,2,0,"span",11),e.YNc(26,vo,2,0,"span",11),e.YNc(27,Po,2,0,"span",11),e.qZA()(),e.TgZ(28,"div",14)(29,"button",15),e._uU(30,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(13),a=e.MAs(23);e.xp6(4),e.Q6J("routerLink",e.DdM(11,qo)),e.xp6(8),e.Q6J("ngModel",n.user.userId)("ngClass",e.VKq(12,ue,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.user.User_role)("ngClass",e.VKq(14,ue,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength)}},dependencies:[u.mk,u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();const Mo=["content"];function Do(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function ko(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",52),e._UZ(9,"i",53),e._uU(10," Modifier "),e.qZA(),e.TgZ(11,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteUser(a))}),e._UZ(12,"i",50),e._uU(13," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.userId),e.xp6(2),e.Oqu(t.User_role),e.xp6(2),e.MGl("routerLink","/admin/update-user/",t.userId,"")}}function xo(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let yo=(()=>{class r{constructor(t){this.userService=t,this.users=[],this.user=new se.n,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredUsers=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllUsers()}delete(){}deleteUser(t){this.user=t}ngOnInit(){this.getAllUsers(),this.filteredData()}getAllUsers(){var t=this;return(0,d.Z)(function*(){yield t.userService.getUsers().subscribe(n=>{t.users=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"nom"==this.filterBy?this.datas.sort((t,n)=>t.userId.localeCompare(n.userId)):""==this.filterBy&&this.datas.sort((t,n)=>t.User_role.localeCompare(n.User_role)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterUserLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.users.filter(n=>n.userId.toLowerCase().includes(t.searchText.toLowerCase())||n.User_role.toLowerCase().includes(t.searchText.toLowerCase())):t.users,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredUsers=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Users.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(le.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-user"]],viewQuery:function(t,n){if(1&t&&e.Gf(Mo,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:88,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-user",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","user_role"],["value","userId"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Do,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des users"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Role"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Identifiant"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterUserLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Id user"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Role"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Actions"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,ko,14,4,"tr",29),e.qZA()(),e.TgZ(51,"div",0)(52,"nav")(53,"ul",30)(54,"li",31)(55,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(56,"span",33),e._uU(57,"\xab"),e.qZA()()(),e.TgZ(58,"li",31)(59,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(60,"span",33),e._uU(61,"\u2039"),e.qZA()()(),e.YNc(62,xo,3,3,"li",35),e.TgZ(63,"li",31)(64,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(65,"span",33),e._uU(66,"\u203a"),e.qZA()()(),e.TgZ(67,"li",31)(68,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(69,"span",33),e._uU(70,"\xbb"),e.qZA()()()()()()(),e.TgZ(71,"div",38)(72,"div",39)(73,"div",40)(74,"div",41)(75,"h1",42),e._uU(76," Suppression "),e.qZA(),e.TgZ(77,"button",43),e._UZ(78,"i",44),e.qZA()(),e.TgZ(79,"div",45),e._uU(80," Etes-vous sur de vouloir supprimer cette user ? "),e.qZA(),e.TgZ(81,"div",46)(82,"button",47),e._UZ(83,"i",48),e._uU(84," Annuler "),e.qZA(),e.TgZ(85,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(86,"i",50),e._uU(87," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(14),e.Q6J("ngForOf",n.filteredUsers),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})(),Lo=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-user"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-user works!"),e.qZA())}}),r})();var ce=m(8524);function Jo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function Fo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function So(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function No(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le nom "),e.qZA())}function wo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Io(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Qo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le id "),e.qZA())}function Oo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Eo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}const Yo=function(){return["../list-role"]},H=function(r){return{"is-invalid":r}};let Bo=(()=>{class r{constructor(t,n){this.roleService=t,this.router=n,this.roleDto=new ce.v}ngOnInit(){}saveRole(){this.roleService.addRole(this.roleDto).subscribe(t=>{console.log(t),this.goToroleList()},t=>console.log(t))}goToroleList(){this.router.navigate(["admin/list-role"])}onSubmit(){console.log(this.roleDto),this.saveRole()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(V.N),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-role"]],decls:41,vars:23,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"col-md-4","mb-3"],["type","text","placeholder","nom du role","name","nom","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","Adresse","name","nom","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","placeholder","id","name","id","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["idVar","ngModel"],[1,"text-right"],["type","submit",1,"btn","btn-info"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un Role"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.TgZ(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.roleDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,Jo,2,0,"span",11),e.YNc(16,Fo,2,0,"span",11),e.YNc(17,So,2,0,"span",11),e.qZA()(),e.TgZ(18,"div",6),e._UZ(19,"div",7),e.TgZ(20,"label"),e._uU(21,"Adresse"),e.qZA(),e.TgZ(22,"input",12,9),e.NdJ("ngModelChange",function(a){return n.roleDto.nom=a}),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,No,2,0,"span",11),e.YNc(26,wo,2,0,"span",11),e.YNc(27,Io,2,0,"span",11),e.qZA()(),e.TgZ(28,"div",6),e._UZ(29,"div",7),e.TgZ(30,"label"),e._uU(31,"Numero fiscal"),e.qZA(),e.TgZ(32,"input",13,14),e.NdJ("ngModelChange",function(a){return n.roleDto.id=a}),e.qZA(),e.TgZ(34,"div",10),e.YNc(35,Qo,2,0,"span",11),e.YNc(36,Oo,2,0,"span",11),e.YNc(37,Eo,2,0,"span",11),e.qZA()(),e.TgZ(38,"div",15)(39,"button",16),e._uU(40,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(13),a=e.MAs(33);e.xp6(4),e.Q6J("routerLink",e.DdM(16,Yo)),e.xp6(8),e.Q6J("ngModel",n.roleDto.nom)("ngClass",e.VKq(17,H,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.roleDto.nom)("ngClass",e.VKq(19,H,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.roleDto.id)("ngClass",e.VKq(21,H,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength)}},dependencies:[u.mk,u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();const Ro=["content"];function jo(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function Vo(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",52),e._UZ(9,"i",53),e._uU(10," Modifier "),e.qZA(),e.TgZ(11,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteRole(a))}),e._UZ(12,"i",50),e._uU(13," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.MGl("routerLink","/admin/update-role/",t.id,"")}}function $o(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let Go=(()=>{class r{constructor(t){this.roleService=t,this.roledtos=[],this.roledto=new ce.v,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredRoleDtos=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllRoles()}delete(){}deleteRole(t){this.roledto=t}ngOnInit(){this.getAllRoles(),this.filteredData()}getAllRoles(){var t=this;return(0,d.Z)(function*(){yield t.roleService.getRoles().subscribe(n=>{t.roledtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"nom"==this.filterBy&&this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterRoleLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.roledtos.filter(n=>n.nom.toLowerCase().includes(t.searchText.toLowerCase())):t.roledtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredRoleDtos=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Roles.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(V.N))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-roledto"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ro,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:88,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-role",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","role_role"],["value","roleId"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,jo,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des roles"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Role"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Identifiant"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterRoleLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Id role"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Role"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Actions"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,Vo,14,4,"tr",29),e.qZA()(),e.TgZ(51,"div",0)(52,"nav")(53,"ul",30)(54,"li",31)(55,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(56,"span",33),e._uU(57,"\xab"),e.qZA()()(),e.TgZ(58,"li",31)(59,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(60,"span",33),e._uU(61,"\u2039"),e.qZA()()(),e.YNc(62,$o,3,3,"li",35),e.TgZ(63,"li",31)(64,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(65,"span",33),e._uU(66,"\u203a"),e.qZA()()(),e.TgZ(67,"li",31)(68,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(69,"span",33),e._uU(70,"\xbb"),e.qZA()()()()()()(),e.TgZ(71,"div",38)(72,"div",39)(73,"div",40)(74,"div",41)(75,"h1",42),e._uU(76," Suppression "),e.qZA(),e.TgZ(77,"button",43),e._UZ(78,"i",44),e.qZA()(),e.TgZ(79,"div",45),e._uU(80," Etes-vous sur de vouloir supprimer cette role ? "),e.qZA(),e.TgZ(81,"div",46)(82,"button",47),e._UZ(83,"i",48),e._uU(84," Annuler "),e.qZA(),e.TgZ(85,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(86,"i",50),e._uU(87," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(14),e.Q6J("ngForOf",n.filteredRoleDtos),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})(),Ko=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-role"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-role works!"),e.qZA())}}),r})();function zo(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucunproduit disponible"),e.qZA())}function Ho(r,i){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.id)}}function Xo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le prixAchat "),e.qZA())}function Wo(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function ei(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function ti(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le quantite "),e.qZA())}function ni(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function ri(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function oi(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la date "),e.qZA())}const ii=function(){return["../list-stock"]},X=function(r){return{"is-invalid":r}};let ai=(()=>{class r{constructor(t,n,o,a,l){this.stockService=t,this.produitService=n,this.personelService=o,this.bureauService=a,this.router=l,this.produits=[],this.bureaus=[],this.personels=[],this.stockDto=new I}ngOnInit(){this.getProduits(),this.getPersonels(),this.getBureaus()}savestock(){this.stockService.reduireStock(this.stockDto).subscribe(t=>{console.log(t),this.goTostockList()},t=>console.log(t))}goTostockList(){this.router.navigate(["admin/list-stock"])}onSubmit(){console.log(this.stockDto),this.savestock()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}getDeleteProduit(){this.produitService.deleteProduit(this.stockDto.produitDto.id).subscribe(t=>{})}getPersonels(){this.personelService.getPersonels().subscribe(t=>{this.personels=t,console.log("Toutes les personels : ",this.personels)})}getBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureaus=t,console.log("Toutes les bureaus : ",this.bureaus)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($),e.Y36(b.d),e.Y36(A._),e.Y36(Z.c),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-reduire-stock"]],decls:42,vars:24,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","produits","id","produits","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","prixAchat du stock","name","prixAchat","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prixAchatVar","ngModel"],[1,"invalid-feedback"],["type","number","placeholder","quantite","name","quantite","required","","minlength","1","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["quantiteVar","ngModel"],["type","date","placeholder","JJ/MM/AAAA","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Reduire un stock "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id produit"),e.qZA(),e.TgZ(11,"select",8),e.NdJ("ngModelChange",function(a){return n.stockDto.produitDto.id=a}),e.YNc(12,zo,2,0,"option",9),e.YNc(13,Ho,2,2,"option",10),e.qZA()(),e.TgZ(14,"div",6)(15,"label"),e._uU(16,"prixAchat"),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(a){return n.stockDto.prixAchat=a}),e.qZA(),e.TgZ(19,"div",13),e.YNc(20,Xo,2,0,"span",9),e.YNc(21,Wo,2,0,"span",9),e.YNc(22,ei,2,0,"span",9),e.qZA()(),e.TgZ(23,"div",6)(24,"label"),e._uU(25,"Quantite"),e.qZA(),e.TgZ(26,"input",14,15),e.NdJ("ngModelChange",function(a){return n.stockDto.quantite=a}),e.qZA(),e.TgZ(28,"div",13),e.YNc(29,ti,2,0,"span",9),e.YNc(30,ni,2,0,"span",9),e.YNc(31,ri,2,0,"span",9),e.qZA()(),e.TgZ(32,"div",6)(33,"label"),e._uU(34,"Date "),e.qZA(),e.TgZ(35,"input",16,17),e.NdJ("ngModelChange",function(a){return n.stockDto.date=a}),e.qZA(),e.TgZ(37,"div",13),e.YNc(38,oi,2,0,"span",9),e.qZA()(),e.TgZ(39,"div",18)(40,"button",19),e._uU(41,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(18),a=e.MAs(27),l=e.MAs(36);e.xp6(4),e.Q6J("routerLink",e.DdM(17,ii)),e.xp6(7),e.Q6J("ngModel",n.stockDto.produitDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.produits&&n.produits.length)),e.xp6(1),e.Q6J("ngForOf",n.produits),e.xp6(4),e.Q6J("ngModel",n.stockDto.prixAchat)("ngClass",e.VKq(18,X,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.stockDto.quantite)("ngClass",e.VKq(20,X,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.stockDto.date)("ngClass",e.VKq(22,X,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})();class W{constructor(){this.id=0,this.quantite="",this.date="",this.motif="",this.produitDto=new T.I,this.personelDto=new J.X,this.bureauDto=new k.R}}let de=(()=>{class r{constructor(t){this.httpClient=t,this.baseURL=f.N.baseURL+"affectations"}getAffectations(){return this.httpClient.get(`${this.baseURL}/list`)}getAffectationById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addAffectation(t){return this.httpClient.post(`${this.baseURL}`,t)}updateAffectation(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteAffectation(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const si=["content"];function li(r,i){if(1&r&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function ui(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",52),e._UZ(15,"i",53),e._uU(16," Modifier "),e.qZA(),e.TgZ(17,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteAffectation(a.id))}),e._UZ(18,"i",50),e._uU(19," Supprimer "),e.qZA()()()}if(2&r){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.motif),e.xp6(2),e.Oqu(t.produitDto.nom),e.xp6(2),e.Oqu(t.bureauDto.nom),e.xp6(2),e.AsE("",t.personelDto.nom," ",t.personelDto.prenom,""),e.xp6(2),e.MGl("routerLink","/admin/update-affectation/",t.id,"")}}function ci(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let di=(()=>{class r{constructor(t){this.affectationService=t,this.affectationDtos=[],this.affectationDto=new W,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredAffectations=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllAffectationDtos()}delete(){this.affectationService.deleteAffectation(this.affectationDto.id).subscribe(t=>{this.showSuccessMessage("Affectation"+this.affectationDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllAffectationDtos(),this.affectationDto=new W})}deleteAffectation(t){this.affectationService.deleteAffectation(t).subscribe(n=>{console.log(n),this.getAllAffectationDtos()})}ngOnInit(){this.getAllAffectationDtos(),this.filteredData()}getAllAffectationDtos(){var t=this;return(0,d.Z)(function*(){yield t.affectationService.getAffectations().subscribe(n=>{t.affectationDtos=n,console.log("Toutes les affcetations via data: ",n),console.log("Toutes les affcetations: ",t.affectationDtos),t.datas=n,console.log("Toutes les affcetations via datas: ",t.datas),t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"nombureau"==this.filterBy&&this.datas.sort((t,n)=>t.bureauDto.nom.localeCompare(n.bureauDto.nom)),"prenom"==this.filterBy&&this.datas.sort((t,n)=>t.personelDto.prenom.localeCompare(n.personelDto.prenom)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterAffectationLists(){var t=this;return(0,d.Z)(function*(){try{t.datas=t.searchText?yield t.affectationDtos.filter(n=>n.bureauDto.nom.toLowerCase().includes(t.searchText.toLowerCase())||n.personelDto.prenom.toLowerCase().includes(t.searchText.toLowerCase())):t.affectationDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,d.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredAffectations=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new _.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("affectations.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(de))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-vente"]],viewQuery:function(t,n){if(1&t&&e.Gf(si,5),2&t){let o;e.iGM(o=e.CRH())&&(n.pdfTable=o.first)}},decls:94,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-vente",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nombureau"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,li,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des Ventes"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Bureau"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"prenom"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterAffectationLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"motif"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"produit"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"bureau"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Nom complet"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Actions"),e.qZA()()(),e.TgZ(55,"tbody"),e.YNc(56,ui,20,8,"tr",29),e.qZA()(),e.TgZ(57,"div",0)(58,"nav")(59,"ul",30)(60,"li",31)(61,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(62,"span",33),e._uU(63,"\xab"),e.qZA()()(),e.TgZ(64,"li",31)(65,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(66,"span",33),e._uU(67,"\u2039"),e.qZA()()(),e.YNc(68,ci,3,3,"li",35),e.TgZ(69,"li",31)(70,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(71,"span",33),e._uU(72,"\u203a"),e.qZA()()(),e.TgZ(73,"li",31)(74,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(75,"span",33),e._uU(76,"\xbb"),e.qZA()()()()()()(),e.TgZ(77,"div",38)(78,"div",39)(79,"div",40)(80,"div",41)(81,"h1",42),e._uU(82," Suppression "),e.qZA(),e.TgZ(83,"button",43),e._UZ(84,"i",44),e.qZA()(),e.TgZ(85,"div",45),e._uU(86," Etes-vous sur de vouloir supprimer cette affectation ? "),e.qZA(),e.TgZ(87,"div",46)(88,"button",47),e._UZ(89,"i",48),e._uU(90," Annuler "),e.qZA(),e.TgZ(91,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(92,"i",50),e._uU(93," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(20),e.Q6J("ngForOf",n.filteredAffectations),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),r})();function gi(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucunproduit disponible"),e.qZA())}function pi(r,i){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.AsE("id:",t.id,"=>",t.nom,"")}}function mi(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucun personel disponible"),e.qZA())}function _i(r,i){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.AsE(" ",t.prenom," ",t.nom," ")}}function fi(r,i){1&r&&(e.TgZ(0,"option"),e._uU(1,"Aucun bureau disponible"),e.qZA())}function hi(r,i){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.AsE(" ",t.id,":=> ",t.nom," ")}}function Zi(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez le motif "),e.qZA())}function Ti(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function bi(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Ci(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Entrez la date "),e.qZA())}const Ai=function(){return["../list-vente"]},ge=function(r){return{"is-invalid":r}},vi=[{path:"",component:me,children:[{path:"add-categorie",component:fe},{path:"list-categorie",component:Ce},{path:"add-produit",component:Ye},{path:"list-produit",component:ze},{path:"update-produit",component:je},{path:"add-bureau",component:ut},{path:"list-bureau",component:tt},{path:"update-bureau/:id",component:dt},{path:"detail-bureau/:id",component:ie},{path:"add-departement",component:Kr},{path:"list-departement",component:eo},{path:"update-departement/:id",component:no},{path:"detail-departement",component:ie},{path:"add-demande",component:qt},{path:"list-demande",component:ht},{path:"update-demande",component:gt},{path:"add-facture",component:Lt},{path:"list-facture",component:wt},{path:"update-facture",component:It},{path:"add-fournisseur",component:ln},{path:"list-fournisseur",component:Bt},{path:"update-fournisseur",component:Rt},{path:"add-avarie",component:un},{path:"list-avarie",component:mn},{path:"update-avarie",component:_n},{path:"add-societe",component:Ln},{path:"list-societe",component:Cn},{path:"update-societe",component:fn},{path:"add-contrat",component:Rn},{path:"list-contrat",component:Kn},{path:"update-contrat",component:zn},{path:"add-personel",component:vr},{path:"list-personel",component:nr},{path:"update-personel",component:Hn},{path:"add-stock",component:Fr},{path:"list-stock",component:Qr},{path:"update-stock/:id",component:Or},{path:"reduire-stock",component:ai},{path:"add-reparation",component:co},{path:"list-reparation",component:fo},{path:"update-reparation/:id",component:Zo},{path:"add-user",component:Uo},{path:"list-user",component:yo},{path:"update-user/:id",component:Lo},{path:"add-role",component:Bo},{path:"list-role",component:Go},{path:"update-role/:id",component:Ko},{path:"add-vente",component:(()=>{class r{constructor(t,n,o,a,l){this.affectationService=t,this.produitService=n,this.personelService=o,this.bureauService=a,this.router=l,this.produits=[],this.bureaus=[],this.personels=[],this.affectationDto=new W}ngOnInit(){this.getProduits(),this.getPersonels(),this.getBureaus()}saveaffectation(){this.affectationService.addAffectation(this.affectationDto).subscribe(t=>{console.log(t),this.goToaffectationList()},t=>console.log(t))}goToaffectationList(){this.router.navigate(["admin/list-affectation"])}onSubmit(){console.log(this.affectationDto),this.saveaffectation(),this.getDeleteProduit()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}getDeleteProduit(){this.produitService.deleteProduit(this.affectationDto.produitDto.id).subscribe(t=>{})}getPersonels(){this.personelService.getPersonels().subscribe(t=>{this.personels=t,console.log("Toutes les personels : ",this.personels)})}getBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureaus=t,console.log("Toutes les bureaus : ",this.bureaus)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(de),e.Y36(b.d),e.Y36(A._),e.Y36(Z.c),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-vente"]],decls:45,vars:23,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","produits","id","produits","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["placeholder","nom","name","personels","id","personels","required","",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","nom","name","bureaus","id","bureaus","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","motif du affectation","name","motif","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["motifVar","ngModel"],[1,"invalid-feedback"],["type","date","placeholder","JJ/MM/AAAA","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter une vente "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id du materiel"),e.qZA(),e.TgZ(11,"select",8),e.NdJ("ngModelChange",function(a){return n.affectationDto.produitDto.id=a}),e.YNc(12,gi,2,0,"option",9),e.YNc(13,pi,2,3,"option",10),e.qZA()(),e.TgZ(14,"div",6)(15,"label",7),e._uU(16,"Nom du personel"),e.qZA(),e.TgZ(17,"select",11),e.NdJ("ngModelChange",function(a){return n.affectationDto.personelDto.id=a}),e.YNc(18,mi,2,0,"option",9),e.YNc(19,_i,2,3,"option",10),e.qZA()(),e.TgZ(20,"div",6)(21,"label",7),e._uU(22,"Bureau"),e.qZA(),e.TgZ(23,"select",12),e.NdJ("ngModelChange",function(a){return n.affectationDto.bureauDto.id=a}),e.YNc(24,fi,2,0,"option",9),e.YNc(25,hi,2,3,"option",10),e.qZA()(),e.TgZ(26,"div",6)(27,"label"),e._uU(28,"Motif"),e.qZA(),e.TgZ(29,"input",13,14),e.NdJ("ngModelChange",function(a){return n.affectationDto.motif=a}),e.qZA(),e.TgZ(31,"div",15),e.YNc(32,Zi,2,0,"span",9),e.YNc(33,Ti,2,0,"span",9),e.YNc(34,bi,2,0,"span",9),e.qZA()(),e.TgZ(35,"div",6)(36,"label"),e._uU(37,"Date "),e.qZA(),e.TgZ(38,"input",16,17),e.NdJ("ngModelChange",function(a){return n.affectationDto.date=a}),e.qZA(),e.TgZ(40,"div",15),e.YNc(41,Ci,2,0,"span",9),e.qZA()(),e.TgZ(42,"div",18)(43,"button",19),e._uU(44,"Sauvegarder"),e.qZA()()()()()),2&t){const o=e.MAs(30),a=e.MAs(39);e.xp6(4),e.Q6J("routerLink",e.DdM(18,Ai)),e.xp6(7),e.Q6J("ngModel",n.affectationDto.produitDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.produits&&n.produits.length)),e.xp6(1),e.Q6J("ngForOf",n.produits),e.xp6(4),e.Q6J("ngModel",n.affectationDto.personelDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.personels&&n.personels.length)),e.xp6(1),e.Q6J("ngForOf",n.personels),e.xp6(4),e.Q6J("ngModel",n.affectationDto.bureauDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.bureaus&&n.bureaus.length)),e.xp6(1),e.Q6J("ngForOf",n.bureaus),e.xp6(4),e.Q6J("ngModel",n.affectationDto.motif)("ngClass",e.VKq(19,ge,o.touched&&!o.valid)),e.xp6(3),e.Q6J("ngIf",null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.errors?null:o.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.affectationDto.date)("ngClass",e.VKq(21,ge,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),r})()},{path:"list-vente",component:di}]}];let Pi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.Bz.forChild(vi),c.Bz]}),r})(),qi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.ez,Pi,s.u5,s.UX]}),r})()}}]);